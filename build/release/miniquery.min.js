(function(a,f,e,k,h,c,b,j,i,o,l,d){function n(){}var g=n;n.expando="MiniQuery"+l(b.random()).replace(/\D/g,"");n.extend=function(v,r,q){if(r&&typeof r=="object"){for(var x in r){v[x]=r[x]}}if(q&&typeof q=="object"){for(var x in q){v[x]=q[x]}}var w=3;var u=arguments.length;if(w>=u){return v}for(var t=w;t<u;t++){var s=arguments[t];for(var p in s){v[p]=s[p]}}return v};n.Object=function(p){return new n.Object.prototype.init(p)};(function(r,s,q,p){s.extend=function(z,v,u){if(v&&typeof v=="object"){for(var B in v){z[B]=v[B]}}if(u&&typeof u=="object"){for(var B in u){z[B]=u[B]}}var A=3;var y=arguments.length;if(A>=y){return z}for(var x=A;x<y;x++){var w=arguments[x];for(var t in w){z[t]=w[t]}}return z};s.toString=function(u,x,w){x=x||"=";w=w||"&";var v=[];for(var t in u){v.push(t+x+u[t])}return v.join(w)};s.extend(s,{extendSafely:function(){var t=arguments.length;if(t==0){return null}var x=arguments[0];if(t==1){return x}for(var v=1;v<t;v++){var w=arguments[v];for(var u in w){if(u in x){continue}x[u]=w[u]}}return x},extendDeeply:function(y,A,x){function v(C,F){C=C||{};for(var D in F){var E=F[D];if(s.isPlain(E)){E=v(C[D],E)}C[D]=E}return C}if(A&&typeof A=="object"){y=v(y,A)}if(x&&typeof x=="object"){y=v(y,x)}var z=3;var t=arguments.length;if(z>=t){return y}for(var u=z;u<t;u++){var w=arguments[u];y=v(y,w)}return y},clone:function(x){var y=arguments.callee;var v=n;if(s.isArray(x)){return p.keep(x,function(A,z){if(!A||s.isValueType(A)||!s.isPlain(A)){return A}return y(A)})}if(!x||s.isValueType(x)||!s.isPlain(x)){return x}var w={};for(var t in x){var u=x[t];switch(typeof u){case"string":case"number":case"boolean":case"function":case"undefined":w[t]=u;break;case"object":w[t]=y(u);break}}return w},each:function(y,v,t){var x=arguments.callee;for(var u in y){var w=y[u];if(t===true&&w&&typeof w=="object"){x(w,v,true)}else{if(v(u,w)===false){break}}}},getType:function(t){return t===null?"null":t===d?"undefined":typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":i.prototype.toString.call(t).slice(8,-1)},isArray:function(u,t){if(t===true){return u instanceof f}if(typeof f.isArray=="function"){return f.isArray(u)}return(u instanceof f)||(s.getType(u)=="Array")},isString:function(t){return typeof t=="string"},isNumber:function(t){return typeof t=="number"},isFunction:function(t){return typeof t=="function"},isBuiltinType:function(w){var v=[l,j,e,f,k,o,c];for(var u=0,t=v.length;u<t;u++){if(w instanceof v[u]){return true}}return false},isEmpty:function(u){for(var t in u){return false}return true},isPlain:function(x){if(!x||typeof x!="object"){return false}var v=i.prototype.hasOwnProperty;var u=x.constructor;try{if(u&&!v.call(x,"constructor")&&!v.call(u.prototype,"isPrototypeOf")){return false}}catch(w){return false}var t;for(t in x){}return t===d||v.call(x,t)},isValueType:function(u){var t=typeof u;return t=="string"||t=="number"||t=="boolean"},isWrappedType:function(w){var v=[l,j,e];for(var u=0,t=v.length;u<t;u++){if(w instanceof v[u]){return true}}return false},isNonNull:function(u){if(!u){return false}var t=typeof u;return t=="object"||t=="function"},map:function(z,v,t){var y=arguments.callee;var x={};for(var u in z){var w=z[u];if(t&&w&&typeof w=="object"){x[u]=y(w,v,t)}else{x[u]=v(u,w)}}return x},namespace:function(x,w,v){function z(D,M,K){var J=M.split(".");var G=D;var I=J.length;var H=I-1;var E=K===d;for(var F=0;F<I;F++){var L=J[F];if(E&&!(L in G)){return}if(F<H){G[L]=G[L]||{};G=G[L]}else{if(K===d){return G[L]}G[L]=K}}return K}if(typeof w=="string"){var u=x;var C=w;var A=v;return z(u,C,A)}if(typeof x=="string"){var u=a;var C=x;var A=w;return z(u,C,A)}if(s.isPlain(w)&&v===d){var t=x;var y=w;var u=a;s.each(y,function(D,F){if(typeof F!="string"){throw new h("当指定第二个参数为键值对映射表时，值必须为 string 类型")}var E=t[D];z(u,F,E)});return u}if(s.isArray(v)){var u=x;var t=w;var B=v;p.each(B,function(D){u[D]=t[D]});return u}},parseJson:function(v){if(typeof v!=="string"||!v){return null}v=q.trim(v);if(a.JSON&&a.JSON.parse){return a.JSON.parse(v)}var t=/^[\],:{}\s]*$/,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,x=/(?:^|:|,)(?:\s*\[)+/g;v=v.replace(u,"@").replace(w,"]").replace(x,"");if(!t.test(v)){throw new h("非法的 JSON 数据: "+v)}return(new c("return "+v))()},parseQueryString:function(v,F,x){if(!v||typeof v!="string"){return{}}var E=arguments.callee;var t=x?unescape:decodeURIComponent;var B=!F;var D=q.toValue;var A={};var w=v.split("&");for(var z=0,C=w.length;z<C;z++){var y=w[z].split("=");if(y.length>1){var u=t(y[0]);var G=t(y[1]);if(B&&G.indexOf("=")>0){G=E(G)}else{G=D(G)}A[u]=G}}return A},remove:function(y,w){var x=s.extend({},y);if(typeof w=="string"){delete x[w]}else{if(s.isArray(w)){for(var v=0,t=w.length;v<t;v++){delete x[w[v]]}}else{for(var u in w){delete x[u]}}}return x},replaceValues:function(x,w,t){for(var v in x){var y=x[v];switch(typeof y){case"string":case"number":case"boolean":for(var u in w){if(v==u){x[v]=w[u];break}}break;case"object":!t&&arguments.callee(y,w);break}}return x},toArray:function(u,z,w){var t=arguments.callee;if(!z){return s.getValues(u,w)}if(z instanceof f){var D=z;var A=[];for(var v=0,x=D.length;v<x;v++){var B=u[D[v]];A.push(B)}return A}if(z===true){var A=[];for(var C in u){var B=u[C];if(w===true&&B&&typeof B=="object"){B=t(B,z,w)}A.push([C,B])}return A}if(typeof z=="function"){var y=z;var A=[];for(var C in u){var B=u[C];if(w===true&&B&&typeof B=="object"){B=t(B,z,w)}else{B=y(C,B)}if(B===null){continue}if(B===d){break}A.push(B)}return A}},toJSON:function(y){if(y==null){return l(y)}switch(typeof y){case"string":return'"'+y+'"';case"number":case"boolean":return y;case"function":return y.toString()}if(y instanceof l||y instanceof j||y instanceof e||y instanceof k){return arguments.callee(y.valueOf())}if(y instanceof o){return arguments.callee(y.toString())}if(s.isArray(y)){var x=[];for(var v=0,t=y.length;v<t;v++){x.push(arguments.callee(y[v]))}return"["+x.join(", ")+"]"}var w=[];for(var u in y){w.push('"'+u+'": '+arguments.callee(y[u]))}return"{ "+w.join(", ")+" }"},toQueryString:function(x,y){if(x==null){return l(x)}switch(typeof x){case"string":case"number":case"boolean":return x}if(x instanceof l||x instanceof j||x instanceof e||x instanceof k){return x.valueOf()}if(s.isArray(x)){return"["+x.join(", ")+"]"}var u=arguments.callee;var v=y?escape:encodeURIComponent;var w=[];for(var t in x){w.push(v(t)+"="+v(u(x[t])))}return w.join("&")},trim:function(v,B,w){if(!B&&!w){var x={};for(var A in v){var z=v[A];if(z==null){continue}x[A]=z}return x}var t=arguments.callee;var u=p.contains;var y=s.extend;if(typeof B=="boolean"){w=B;B=d}if(!B){B=[null,d]}var x=y({},v);for(var A in x){var z=x[A];if(u(B,z)){delete x[A];continue}if(w===true&&typeof z=="object"&&z){z=y({},z);x[A]=t(z,B,true)}}return x},create:function(u){var t=typeof i.create==="function"?i.create:function(w){function v(){}v.prototype=w;v.prototype.constructor=v;return new v()};s.create=t;return t(u)},filter:function(w,t){var v={};if(s.isArray(t)){p.each(t,function(y,x){if(y in w){v[y]=w[y]}})}else{if(s.isPlain(t)){s.each(t,function(x,y){if(x in w){v[x]=w[x]}})}else{if(typeof t=="string"){var u=t;if(u in w){v[u]=w[u]}}else{throw new h("无法识别参数 samples 的类型")}}}return v},filterTo:function(v,w,t){var u=s.filter(w,t);return s.extend(v,u)},grep:function(x,u){var w={};for(var t in x){var v=x[t];if(u(t,v)===true){w[t]=v}}return w},find:function(w,u,t){var v=false;s.each(w,function(x,y){if(u(x,y)===true){v=true;return false}},t);return v},findItem:function(w,u,t){var v=[];s.each(w,function(x,y){if(u(x,y)===true){v=[x,y];return false}},t);return v},findKey:function(w,u,t){var v=s.findItem(w,u,t);return v[0]},findValue:function(w,u,t){var v=s.findItem(w,u,t);return v[1]},get:function(v,u,t){if(!v){return t}if(u in v){return v[u]}return t},set:function(v,t,u){v[t]=u;return v},make:function(t,v){var u=n;var w={};if($Object.isArray(t)){u.Array(arguments).each(function(y,x){w[y[0]]=y[1]})}else{w[t]=v}return w},getValues:function(y,u){var w=arguments.callee;var t=[];for(var v in y){var x=y[v];if(u===true&&typeof x=="object"&&x!==null){x=w(x,u)}t.push(x)}return t},getItems:function(u,t){return s.toArray(u,true,t)}})})(n,n.Object,n.String,n.Array);(function(p){p.prototype={constructor:p,value:{},init:function(q){this.value=i(q)},valueOf:function(){return this.value},clone:function(){return p.clone(this.value)},each:function(r,q){p.each(this.value,r,q);return this},extend:function(){var q=[this.value];q=q.concat(f.prototype.slice.call(arguments,0));this.value=p.extend.apply(null,q);return this},extendSafely:function(){var q=[this.value];q=q.concat(f.prototype.slice.call(arguments,0));this.value=p.extendSafely.apply(null,q);return this},getType:function(){return p.getType(this.value)},isArray:function(q){return p.isArray(this.value,q)},isBuiltinType:function(){return p.isBuiltinType(this.value)},isEmpty:function(){return p.isEmpty(this.value)},isPlain:function(){return p.isPlain(this.value)},isValueType:function(){return p.isValueType(this.value)},isWindow:function(){return p.isWindow(this.value)},isWrappedType:function(){return p.isWrappedType(this.value)},map:function(r,q){this.value=p.map(this.value,r,q);return this},namespace:function(r,q){this.value=p.namespace(this.value,r,q);return this},parseJson:function(q){this.value=p.parseJson(q);return this},parseQueryString:function(r,q,s){this.value=p.parseQueryString(r,q,s);return this},remove:function(q){this.value=p.remove(this.value,q);return this},replaceValues:function(r,q){this.value=p.replaceValues(this.value,r,q);return this},toArray:function(r,q){return p.toArray(this.value,r,q)},toJSON:function(){return p.toJSON(this.value)},toQueryString:function(q){return p.toQueryString(this.value,q)},toString:function(r,q){return p.toString(this.value,r,q)},trim:function(r,q){this.value=p.trim(this.value,r,q);return this},filter:function(q){this.value=p.filter(this.value,q);return this},filterTo:function(r,q){this.value=p.filterTo(this.value,r,q);return this},grep:function(q){this.value=p.grep(this.value,q);return this},find:function(r,q){return p.find(this.value,r,q)},findItem:function(r,q){return p.findItem(this.value,r,q)},findKey:function(r,q){return p.findKey(this.value,r,q)},findValue:function(r,q){return p.findValue(this.value,r,q)},get:function(r,q){return p.get(this.value,r,q)},set:function(q,r){p.set(this.value,q,r);return this},make:function(q,r){this.value=p.make(q,r);return this},getValues:function(q){return p.getValues(this.value,q)},getItems:function(q){return p.getItems(this.value,q)}};p.prototype.init.prototype=p.prototype})(n.Object);n.Array=function(p){return new n.Array.prototype.init(p)};(function(q,r,p){q.extend(r,{each:function(w,u,v){var s=w.length;if(v===true){for(var t=s;t--;){if(u(w[t],t)===false){break}}}else{for(var t=0;t<s;t++){if(u(w[t],t)===false){break}}}return w},parse:function(y,u){if(y instanceof f){return y}var t=[];if(u===true){for(var v in y){if(v==="length"){continue}t.push(y[v])}return t}if(!y||!y.length){return[]}try{t=f.prototype.slice.call(y,0)}catch(x){for(var w=0,s=y.length;w<s;w++){t.push(y[w])}}return t},toObject:function(x,y){if(!x||!p.isArray(x)){return null}var s={};if(y===d){var w=x.length;s.length=w;for(var t=0;t<w;t++){s[t]=x[t]}return s}if(p.isArray(y)){var u=0;var w=y.length;for(var t=0;t<w;t++){var A=y[t];if(A in s){continue}s[A]=x[t];u++}s.length=u;return s}if(p.isPlain(y)){var w=0;for(var A in y){s[A]=x[y[A]];w++}s.length=w;return s}if(typeof y=="function"){var w=x.length;for(var t=0;t<w;t++){var B=y(x[t],t);if(B instanceof f){var A=B[0];var z=B[1];s[A]=z}else{if(p.isPlain(B)){for(var A in B){s[A]=B[A];break}}else{throw new h("处理函数 maps 返回结果的格式不可识别")}}}s.length=w;return s}return s},map:function(x,v){var t=[];for(var u=0,s=x.length;u<s;u++){var w=v(x[u],u);if(w===null){continue}if(w===d){break}t.push(w)}return t},keep:function(x,v){var t=[];for(var u=0,s=x.length;u<s;u++){var w=v(x[u],u);t.push(w)}return t},grep:function(x,v){var t=[];for(var u=0,s=x.length;u<s;u++){var w=x[u];if(v(w,u)===true){t.push(w)}}return t},indexOf:function(v,u){if(typeof v.indexOf=="function"){return v.indexOf(u)}for(var t=0,s=v.length;t<s;t++){if(v[t]===u){return t}}return -1},contains:function(t,s){return r.indexOf(t,s)>-1},remove:function(x,w){var t=[];for(var u=0,s=x.length;u<s;u++){var v=x[u];if(v===w){continue}t.push(v)}return t},removeAt:function(u,t){var s=u.slice(0);s.splice(t,1);return s},reverse:function(u){var s=[];for(var t=u.length-1;t>=0;t--){s.push(u[t])}return s},merge:function(){var u=[];for(var v=0,t=arguments.length;v<t;v++){var s=arguments[v];if(s===d){continue}u=u.concat(s)}return u},mergeUnique:function(){var y=[];var u=arguments.length;var x=r.contains;for(var v=0;v<u;v++){var t=arguments[v];var s=t.length;for(var w=0;w<s;w++){if(!x(y,t[w])){y.push(t[w])}}}return y},unique:function(s){return r.mergeUnique(s)},toggle:function(u,s){if(r.contains(u,s)){return r.remove(u,s)}else{var t=u.slice(0);t.push(s);return t}},find:function(u,s,t){return r.findIndex(u,s,t)>-1},findIndex:function(w,u,v){v=v||0;for(var t=v,s=w.length;t<s;t++){if(u(w[t],t)===true){return t}}return -1},findItem:function(x,u,w){w=w||0;for(var t=w,s=x.length;t<s;t++){var v=x[t];if(u(v,t)===true){return v}}return null},random:function(w){var x=w.slice(0);for(var v=0,s=x.length;v<s;v++){var t=parseInt(b.random()*v);var u=x[v];x[v]=x[t];x[t]=u}return x},randomItem:function(u){var s=u.length;if(s<1){return d}var t=q.Math.randomInt(0,s-1);return u[t]},get:function(v,t){var s=v.length;if(t>=0&&t<s){return v[t]}var u=t+s;if(t<0&&u>=0){return v[u]}if(t==null){return v.slice(0)}},trim:function(s){return r.map(s,function(u,t){return u==null?null:u})},group:function(v,t,u){var s=r.slide(v,t,t);if(u===true){s[s.length-1]=v.slice(-t)}return s},slide:function(y,w,u){if(w>=y.length){return[y]}u=u||1;var t=[];for(var x=0,s=y.length;x<s;x=x+u){var v=x+w;t.push(y.slice(x,v));if(v>=s){break}}return t},circleSlice:function(x,w,u){var t=x.slice(w,w+u);var s=[];var v=u-t.length;if(v>0){s=x.slice(0,v)}return t.concat(s)},circleSlide:function(y,w,u){if(y.length<w){return[y]}u=u||1;var t=[];var v=r.circleSlice;for(var x=0,s=y.length;x<s;x=x+u){t.push(v(y,x,w))}return t},sum:function(z,t,w){var x=0;var u=!(w===d);for(var v=0,s=z.length;v<s;v++){var y=u?z[v][w]:z[v];if(isNaN(y)){if(t===true){continue}else{throw new h("第 "+v+" 个元素的值为 NaN")}}else{x+=j(y)}}return x},max:function(z,u,x){var t=0;var v=!(x===d);for(var w=0,s=z.length;w<s;w++){var y=v?z[w][x]:z[w];if(isNaN(y)){if(u===true){continue}else{throw new h("第 "+w+" 个元素的值为 NaN")}}else{y=j(y);if(y>t){t=y}}}return t},hasItem:function(s){return p.isArray(s)&&s.length>0},reduceDimension:function(w,u){u=u||1;var s=w;var v=f.prototype.concat;for(var t=0;t<u;t++){s=v.apply([],s)}return s},descartes:function(u,t){var x=w(u,t);for(var v=2,s=arguments.length;v<s;v++){x=w(x,arguments[v],true)}return x;function w(z,y,G){var F=[];for(var D=0,E=z.length;D<E;D++){for(var C=0,I=y.length;C<I;C++){var H=[];if(G){H=H.concat(z[D]);H.push(y[C])}else{H[0]=z[D];H[1]=y[C]}F.push(H)}}return F}},divideDescartes:function(w,B){var A=w.length;var x=[];for(var u=0,v=B.length;u<v;u++){var C=B[u];var t=A/C;var y=[];for(var z=0;z<C;z++){y.push(w[z*t][u])}A=t;x[u]=y}return x},transpose:function(z){var s=z;var w=[];var v=s.length;var x=1;for(var y=0;y<x;y++){var t=[];for(var u=0;u<v;u++){if(s[u].length>x){x=s[u].length}t.push(s[u][y])}w[y]=t}return w},intersection:function(u,t){var x=u;for(var v=1,s=arguments.length;v<s;v++){x=w(x,arguments[v])}return x;function w(z,H){var G=[];for(var E=0,y=z.length;E<y;E++){var F=z[E];for(var C=0,D=H.length;C<D;C++){if(F===H[C]){G.push(F);break}}}return r.unique(G)}},equals:function(t,w,v){if(!(t instanceof f)||!(w instanceof f)||t.length!=w.length){return false}v=v||function(z,A){return z===A};for(var u=0,s=t.length;u<s;u++){if(!v(t[u],w[u])){return false}}return true},isContained:function(s,t){return r.intersection(s,t).length==s.length},padLeft:function(x,w,t){var v=w-x.length;if(v<=0){return x.slice(-v)}var s=[];for(var u=0;u<v;u++){s.push(t)}s=s.concat(x);return s},padRight:function(x,w,t){var v=w-x.length;if(v<=0){return x.slice(0,w)}var s=x.slice(0);for(var u=0;u<v;u++){s.push(t)}return s},pad:function(w,t,v){if(w==t){return[]}v=b.abs(v||1);var s=[];if(w<t){for(var u=w;u<t;u+=v){s.push(u)}}else{for(var u=w;u>t;u-=v){s.push(u)}}return s},aggregate:function(y,w,s){var z=typeof w=="string";var t=typeof s=="function";var u={};for(var v=0,x=y.length;v<x;v++){var C=y[v];var B=z?C[w]:w(C,v);if(!u[B]){u[B]=[]}var A=C;if(t){A=s(C,v);if(A===null){continue}if(A===d){break}}u[B].push(A)}return u},add:function(u,t){var s=u?u.slice(0):[];s.push(t);return s}})})(n,n.Array,n.Object);(function(p){p.prototype={constructor:p,value:[],init:function(q){this.value=p.parse(q)},toString:function(q){q=q===d?"":q;return this.value.join(q)},valueOf:function(){return this.value},each:function(q,r){p.each(this.value,q,r);return this},toObject:function(q){return p.toObject(this.value,q)},map:function(q){this.value=p.map(this.value,q);return this},keep:function(q){this.value=p.keep(this.value,q);return this},grep:function(q){this.value=p.grep(this.value,q);return this},indexOf:function(q){return p.indexOf(this.value,q)},contains:function(q){return p.contains(this.value,q)},remove:function(q){this.value=p.remove(this.value,q);return this},removeAt:function(q){this.value=p.removeAt(this.value,q);return this},reverse:function(){this.value=p.reverse(this.value);return this},merge:function(){var q=[this.value];q=q.concat(f.prototype.slice.call(arguments,0));this.value=p.merge.apply(null,q);return this},mergeUnique:function(){var q=[this.value];q=q.concat(f.prototype.slice.call(arguments,0));this.value=p.mergeUnique.apply(null,q);return this},unique:function(){this.value=p.unique(this.value);return this},toggle:function(q){this.value=p.toggle(this.value,q);return this},find:function(q,r){return p.find(this.value,q,r)},findIndex:function(q,r){return p.findIndex(this.value,q,r)},findItem:function(q,r){return p.findItem(this.value,q,r)},random:function(){this.value=p.random(this.value);return this},randomItem:function(){return p.randomItem(this.value)},get:function(q){return p.get(this.value,q)},trim:function(){this.value=p.trim(this.value);return this},group:function(q,r){this.value=p.group(this.value,q,r);return this},slide:function(r,q){this.value=p.slide(this.value,r,q);return this},circleSlice:function(r,q){this.value=p.circleSlice(this.value,r,q);return this},circleSlide:function(r,q){this.value=p.circleSlide(this.value,r,q);return this},sum:function(q,r){return p.sum(this.value,q,r)},max:function(q,r){return p.max(this.value,q,r)},hasItem:function(){return p.hasItem(this.value)},reduceDimension:function(q){this.value=p.reduceDimension(this.value,q);return this},descartes:function(){var q=p.parse(arguments);q=[this.value].concat(q);this.value=p.descartes.apply(null,q);return this},divideDescartes:function(q){this.value=p.divideDescartes(this.value,q);return this},transpose:function(){this.value=p.transpose(this.value);return this},intersection:function(){var q=p.parse(arguments);q=[this.value].concat(q);this.value=p.intersection.apply(null,q);return this},equals:function(r,q){return p.equals(this.value,r,q)},isContained:function(q){return p.isContained(this.value,q)},padLeft:function(r,q){this.value=p.padLeft(this.value,r,q);return this},padRight:function(r,q){this.value=p.padRight(this.value,r,q);return this},pad:function(s,q,r){this.value=p.pad(s,q,r);return this}};p.prototype.init.prototype=p.prototype})(n.Array);n.String=function(q){if(arguments.length>1){var p=f.prototype.slice.call(arguments,1);return n.String.format(q,p)}return new n.String.prototype.init(q)};(function(r,s,q,p){r.extend(s,{format:function(w,A,u){var z=w;if(typeof A=="object"){for(var y in A){z=s.replaceAll(z,"{"+y+"}",A[y])}}else{var v=f.prototype.slice.call(arguments,1);for(var x=0,t=v.length;x<t;x++){z=s.replaceAll(z,"{"+x+"}",v[x])}}return z},replaceAll:function(u,v,t){return u.split(v).join(t)},replaceBetween:function(t,w,v,u){var A=t.indexOf(w);if(A<0){return t}var y=t.indexOf(v);if(y<0){return t}var x=t.slice(0,A);var z=t.slice(y+v.length);return x+u+z},removeAll:function(u,v){var t=s.replaceAll;if(q.isArray(v)){p.each(v,function(x,w){u=t(u,x,"")});return u}return t(u,v,"")},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},trimStart:function(t){return t.replace(/(^\s*)/g,"")},trimEnd:function(t){return t.replace(/(\s*$)/g,"")},padLeft:function(w,v,x){w=l(w);var u=w.length;if(v<=u){return w.substr(-v)}x=x||" ";var t=[];t.length=v-u+1;return t.join(x)+w},padRight:function(w,v,x){w=l(w);var u=w.length;if(u>=v){return w.substring(0,v)}x=x||" ";var t=[];t.length=v-u+1;return w+t.join(x)},between:function(u,v,t){var x=u.indexOf(v);if(x<0){return""}x+=v.length;var w=u.indexOf(t,x);if(w<0){return""}return u.substr(x,w-x)},random:function(u){if(u===d){u=12}if(typeof u=="number"){var t=u+1;if(t<0){t=0}u=[];u.length=t;u=u.join("x")}return u.replace(/x/g,function(w){var v=b.random()*16|0;return v.toString(16)}).toUpperCase()}});r.extend(s,{startsWith:function(w,u,t){if(t){var v=w.substring(0,u.length);return v.toUpperCase()===u.toString().toUpperCase()}return w.indexOf(u)==0},endsWith:function(y,v,t){var w=y.length;var u=v.length;var z=w-u;if(t){var x=y.substring(z,w);return x.toUpperCase()===v.toString().toUpperCase()}return y.lastIndexOf(v)==z},contains:function(w,v,u){w=l(w);if(r.Object.isArray(v)){var t;if(u===true){t=false;p.each(v,function(y,x){t=w.indexOf(y)>-1;if(t){return false}})}else{t=true;p.each(v,function(y,x){t=w.indexOf(y)>-1;if(!t){return false}})}return t}return w.indexOf(v)>-1}});r.extend(s,{toCamelCase:function(u){var t=/^-ms-/;var v=/-([a-z]|[0-9])/ig;return u.replace(t,"ms-").replace(v,function(w,x){return x.toString().toUpperCase()})},toHyphenate:function(t){return t.replace(/[A-Z]/g,function(u){return("-"+u.charAt(0).toLowerCase())})},toUtf8:function(t){var u=[];p.each(t.split(""),function(w,v){var x=w.charCodeAt(0);if(x<128){u.push(x)}else{if(x<2048){u.push(((x&1984)>>6)|192);u.push((x&63)|128)}else{u.push(((x&61440)>>12)|224);u.push(((x&4032)>>6)|128);u.push(((x&63))|128)}}});return"%"+p.map(u,function(w,v){return w.toString(16)}).join("%")},toValue:function(t){if(typeof t!="string"){return t}var u={"0":0,"1":1,"true":true,"false":false,"null":null,"undefined":d,"NaN":NaN};return t in u?u[t]:t}});r.extend(s,{split:function(u,w){var y=l(u).split(w[0]);for(var v=1,t=w.length;v<t;v++){y=x(y,w[v],v)}return y;function x(z,B,A){A--;return p.map(z,function(D,C){return A==0?l(D).split(B):x(D,B,A)})}},slide:function(v,u,t){var w=l(v).split("");return p(w).slide(u,t).map(function(y,x){return y.join("")}).valueOf()},segment:function(t,u){return s.slide(t,u,u)}});r.extend(s,{getTemplates:function(y,u){if(q.isArray(u[0])){u=p.map(u,function(A,z){return{name:A[0],begin:A[1],end:A[2],outer:A[3]}})}var x=y;var t={};var w=s.between;var v=s.replaceBetween;p.each(u,function(D,B){var A=D.name||B;var C=D.begin;var z=D.end;t[A]=w(x,C,z);x=v(x,C,z,D.outer);if(B==0){t.top=x}},true);return t}})})(n,n.String,n.Object,n.Array);(function(p){p.prototype={constructor:p,value:"",init:function(q){this.value=l(q)},toString:function(){return this.value},valueOf:function(){return this.value},format:function(r,q){this.value=p.format(this.value,r,q);return this},replaceAll:function(r,q){this.value=p.replaceAll(this.value,r,q);return this},replaceBetween:function(s,r,q){this.value=p.replaceBetween(this.value,s,r,q);return this},removeAll:function(q){this.value=p.replaceAll(this.value,q,"");return this},random:function(q){this.value=p.random(q);return this},trim:function(){this.value=p.trim(this.value);return this},trimStart:function(){this.value=p.trimStart(this.value);return this},trimEnd:function(){this.value=p.trimEnd(this.value);return this},split:function(q){return p.split(this.value,q)},startsWith:function(r,q){return p.startsWith(this.value,r,q)},endsWith:function(r,q){return p.endsWith(this.value,r,q)},contains:function(r,q){return p.contains(this.value,r,q)},padLeft:function(q,r){this.value=p.padLeft(this.value,q,r);return this},padRight:function(q,r){this.value=p.padRight(this.value,q,r);return this},toCamelCase:function(){this.value=p.toCamelCase(this.value);return this},toHyphenate:function(){this.value=p.toHyphenate(this.value);return this},between:function(r,q){this.value=p.between(this.value,r,q);return this},toUtf8:function(){this.value=p.toUtf8(this.value);return this},toValue:function(q){return p.toValue(this.value)},slide:function(r,q){return p.slide(this.value,r,q)},segment:function(q){return p.segment(this.value,q,q)}};p.prototype.init.prototype=p.prototype})(n.String);n.Boolean=function(p){return new n.Boolean.prototype.init(p)};(function(p,q){p.extend(q,{parse:function(r){if(!r){return false}if(typeof r=="string"||r instanceof l){var s=/^(false|null|undefined|0|NaN)$/g;return !s.test(r)}return true},toInt:function(r){return q.parse(r)?1:0},reverse:function(r){return !q.parse(r)},random:function(){return !!b.floor(b.random()*2)}})})(n,n.Boolean);(function(p){p.prototype={constructor:p,value:false,init:function(q){this.value=p.parse(q)},valueOf:function(){return this.value},toString:function(){return this.value.toString()},toInt:function(){return this.value?1:0},reverse:function(){this.value=!this.value;return this},random:function(){this.value=p.random();return}};p.prototype.init.prototype=p.prototype})(n.Boolean);n.Date=function(p){return new n.Date.prototype.init(p)};(function(q,r,p){r.toString=function(t,s){if(typeof t=="string"){s=t;t=new k()}return r.format(t,s)};q.extend(r,{now:function(){return new k()},parse:function(y){if(y instanceof k){if(isNaN(y.getTime())){throw new h("参数是非法的日期实例")}return y}if(typeof y!="string"){throw new h("不支持该类型的参数："+typeof y)}var v=new k(y);if(!isNaN(v.getTime())){return v}function A(C){var t=new k();var D=C.indexOf(".")>0?".":C.indexOf("-")>0?"-":C.indexOf("/")>0?"/":C.indexOf("_")>0?"_":null;if(!D){throw new h("无法识别的日期格式："+C)}var E=C.split(D);return{yyyy:E[0],MM:E[1]||0,dd:E[2]||1}}function z(t){var C=t.indexOf(":")>0?":":null;if(!C){throw new h("无法识别的时间格式0："+t)}var D=t.split(C);return{HH:D[0]||0,mm:D[1]||0,ss:D[2]||0}}var w=y.split(" ");if(!w[0]){throw new h("无法识别的格式1："+y)}var v=w[0].indexOf(":")>0?null:w[0];var u=w[0].indexOf(":")>0?w[0]:(w[1]||null);if(v||u){if(v&&u){var x=A(v);var B=z(u);return new k(x.yyyy,x.MM-1,x.dd,B.HH,B.mm,B.ss)}if(v){var x=A(v);return new k(x.yyyy,x.MM-1,x.dd)}if(u){var s=new k();var B=z(u);return new k(s.getFullYear(),s.getMonth(),s.getDate(),B.HH,B.mm,B.ss)}}throw new h("无法识别的格式2："+y)},format:function(C,x){var D=C.getFullYear();var A=C.getMonth()+1;var v=C.getDate();var y=C.getHours();var w=C.getMinutes();var u=C.getSeconds();var z=function(G,s){return p.padLeft(G,s,"0")};var B=y<=12;var t={yyyy:z(D,4),yy:l(D).substr(-2),MM:z(A,2),M:A,dddd:"星期"+("日一二三四五六".charAt(C.getDay())),dd:z(v,2),d:v,HH:z(y,2),H:y,hh:z(B?y:y-12,2),h:B?y:y-12,mm:z(w,2),m:w,ss:z(u,2),s:u,tt:B?"AM":"PM",t:B?"A":"P",TT:B?"上午":"下午",T:B?"上":"下"};var F=x;for(var E in t){F=p.replaceAll(F,E,t[E])}return F},addYears:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setFullYear(u.getFullYear()+t);return s},addMonths:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setMonth(u.getMonth()+t);return s},addDays:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setDate(u.getDate()+t);return s},addHours:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setHours(u.getHours()+t);return s},addMinutes:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setMinutes(u.getMinutes()+t);return s},addSeconds:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setSeconds(u.getSeconds()+t);return s},addMilliseconds:function(u,t){if(!(u instanceof k)){t=u;u=new k()}var s=new k(u);s.setMilliseconds(u.getMilliseconds()+t);return s}})})(n,n.Date,n.String);(function(p){p.prototype={constructor:p,value:new k(),init:function(q){this.value=q===d?new k():p.parse(q)},valueOf:function(){return this.value},toString:function(q){return p.format(this.value,q)},format:function(q){return p.format(this.value,q)},addYears:function(q){this.value=p.addYears(this.value,q);return this},addMonths:function(q){this.value=p.addMonths(this.value,q);return this},addDays:function(q){this.value=p.addDays(this.value,q);return this},addHours:function(q){this.value=p.addHours(this.value,q);return this},addMinutes:function(q){this.value=p.addMinutes(this.value,q);return this},addSeconds:function(q){this.value=p.addSeconds(this.value,q);return this},addMilliseconds:function(q){this.value=p.addMilliseconds(this.value,q);return this}};p.prototype.init.prototype=p.prototype})(n.Date);n.Math={};(function(q,r,p){q.extend(r,{randomInt:function(t,u){if(t===d&&u===d){return j(l(b.random()).replace(".","").replace(/^0*/g,""))}else{if(u===d){u=t;t=0}}var s=u-t+1;return b.floor(b.random()*s+t)},slide:function(s,t,u){u=u||1;s+=u;if(s>=0){return s%t}return(t-(b.abs(s)%t))%t},next:function(s,t){return r.slide(s,t,1)},previous:function(s,t,u){return r.slide(s,t,-1)},parseInt:function(s){return parseInt(s,10)},parsePercent:function(s){if(typeof s=="string"&&p(s).trim().endsWith("%")){return parseInt(s)/100}return s}})})(n,n.Math,n.String);n.Class={create:function(q,r){var p=q;p.constructor=p.constructor||function(){};p.constructor.prototype=p;n.extend(p.constructor,r);return p.constructor},inherit:function(p,q,r){q=n.extend(new p(),q);r=n.extend({},p,r);return n.Class.create(q,r)}};n.Mapper=function(p,q){this.all={guid:{},"false":{},string:{},number:{},"boolean":{},object:{},"function":{},"undefined":{}};if(arguments.length>0){this.set(p,q)}};(function(t,u,s,r){var q="__guid__";function p(v){if(!v){return l(v)}if(v instanceof k||v instanceof f){return s.getType(v)}return v.toString()}t.extend(u.prototype,{set:function(C,A){var y=this.all;if(!C){y["false"][l(C)]=A;return A}var x=typeof C;if(x=="object"&&q in C){var v=C[q];y.guid[v]=A;return}switch(x){case"string":case"number":case"boolean":y[x][l(C)]=A;break;case"object":case"function":var w=p(C);var z=y[x][w];if(z){var B=r.findItem(z,function(E,D){return E[0]===C});if(B){B[1]=A}else{z.push([C,A])}}else{z=[[C,A]]}y[x][w]=z}return A},setBatch:function(w){var v=this;r.each(w,function(y,x){v.set(y[0],y[1])})},get:function(B){var y=this.all;if(!B){return y["false"][l(B)]}var x=typeof B;if(x=="object"&&q in B){var v=B[q];return y.guid[v]}switch(x){case"string":case"number":case"boolean":return y[x][l(B)];case"object":case"function":var w=p(B);var z=y[x][w];if(z){var A=r.findItem(z,function(D,C){return D[0]===B});if(A){return A[1]}}}return d},remove:function(A){var y=this.all;if(!A){delete y["false"][l(A)];return}var x=typeof A;if(x=="object"&&q in A){var v=A[q];delete y.guid[v];return}switch(x){case"string":case"number":case"boolean":delete y[x][l(A)];break;case"object":case"function":var w=p(A);var z=y[x][w];if(z){y[x][w]=r.grep(z,function(C,B){return C[0]!==A})}}},dispose:function(){var w=this.all;for(var v in w){delete w[v]}delete this["all"]}})})(n,n.Mapper,n.Object,n.Array);n.Guid=(function(r,q){var w={};var u={};function t(z){var y=w[z]||0;y=y+1;w[z]=y;return y}function p(D,B){B=B||"{0}";var A=/\{\d+\}/g;var y=B.match(A);var z=q.map(y,function(F,E){return t(D)});var C=r.String.format(B,z);x(C);return C}function x(y){u[y]=true}function s(y){delete u[y]}function v(y){return !!u[y]}return{next:t,get:p,add:x,remove:s,exist:v}})(n,n.Array);n.Event=function m(p){return new n.Event.prototype.init(p)};(function(s,v,q,r,p){var w=s.expando;var u=new s.Mapper();var t="anonymous_"+r.random();s.extend(v,{bind:function(C,x,z,A){var y=u.get(C);if(!y){y={};u.set(C,y)}switch(typeof x){case"string":B(x,z);break;case"object":A=z;q.each(x,function(D,E){B(D,E)});break;case"function":A=z;z=x;x=t;B(x,z);break;default:throw new h("无法识别参数 eventName 的类型");break}function B(D,E){var F=y[D]||[];F.push({handler:E,isOnce:A});y[D]=F}},once:function(z,x,y){switch(typeof x){case"string":v.bind(z,x,y,true);break;case"function":case"object":v.bind(z,x,true)}},unbind:function(B,x,z){var y=u.get(B);if(!y){return}if(typeof x=="function"){z=x;x=t}if(!x){u.remove(B);return}var A=y[x];if(!A){return}if(!z){y[x]=[];return}y[x]=p.grep(A,function(D,C){return D.handler!==z})},trigger:function(C,x,y){var z=u.get(C);if(!z){return}var D=false;if(typeof x!="string"){y=x;x=t;D=true}var B=z[x];if(!B){return}y=y||[];var A;z[x]=p.map(B,function(F,E){A=F.handler.apply(C,y);return F.isOnce?null:F});if(!D){B=z[t];if(B){z[t]=p.map(B,function(F,E){F.handler.apply(C,y);return F.isOnce?null:F})}}return A},has:function(B,x){var z=u.get(B);if(!z){return false}if(!x){if(q.isEmpty(z)){return false}var y=false;q.each(z,function(C,D){if(D&&D.length>0){y=true;return false}});return y}var A=z[x];if(!A||A.length==0){return false}return true}})})(n,n.Event,n.Object,n.String,n.Array);(function(p){p.prototype={constructor:p,value:{},init:function(q){this.value=q},valueOf:function(){return this.value},on:function(q,r,s){p.bind(this.value,q,r,s);return this},off:function(q,r){p.unbind(this.value,q,r);return this},bind:function(q,r,s){p.bind(this.value,q,r,s);return this},unbind:function(q,r){p.unbind(this.value,q,r);return this},once:function(q,r){p.once(this.value,q,r);return this},trigger:function(q,r){return p.trigger(this.value,q,r)},has:function(q){return p.has(this.value,q)}};p.prototype.init.prototype=p.prototype})(n.Event);(function(p,q){q.extend(q,{isWindow:function(r){return r&&typeof r=="object"&&"setInterval" in r},isDocument:function(r){return r&&typeof r=="object"&&"getElementById" in r}})})(n,n.Object);n.XHR={create:function(){var p=window.XMLHttpRequest?function(){return new XMLHttpRequest()}:window.ActiveXObject?function(){var s=arguments.callee;var v="version";if(!s[v]){var r=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"];for(var u=0,q=r.length;u<q;u++){try{var w=new ActiveXObject(r[u]);s[v]=r[u];return w}catch(t){}}}return new ActiveXObject(s[v])}:function(){throw new h("没有可用的 XHR 对象")};n.XHR.create=p;return p()}};n.use=function(p,q){if(!a[p]||q){a[p]=n;return}var s=a[p];for(var r in n){if(!(r in s)){s[r]=n[r]}}};if(typeof exports!="undefined"){if(typeof module!="undefined"&&module.exports){exports=module.exports=n}exports.MiniQuery=n}else{if(typeof define=="function"&&define.amd){define(function(p){return n})}else{a.MiniQuery=n}}})(typeof global=="object"?global:this,Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String);