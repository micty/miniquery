!function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var A=function(){function a(a,b){d[a]={required:!1,exports:b,exposed:!1}}function b(a){var c=d[a];if(c){var e=c.exports;if(c.required)return e;if("function"==typeof e){var f=e;e={};var g={id:a,exports:e},h=f(b,g,e);e=h===z?g.exports:h,c.exports=e}return c.required=!0,e}}function c(a,b){function c(a){var b=d[a];return b?b.exposed:!1}function e(a,b){var c=d[a];c&&(c.exposed=!!b)}{if("object"!=typeof a)return 2==arguments.length?void e(a,b):c(a);var f=a;for(var a in f){var b=f[a];e(a,b)}}}var d={};return{define:a,require:b,expose:c}}(),B=A.define,C=A.require;B("$",function(a,b,c){var d=o.prototype.slice,e=d.call.bind?d.call.bind(d):function(a){return d.call(a,0)};b.exports=c={expando:"MiniQuery-"+t.random().toString().slice(2),toArray:e,extend:function(a,b,c){if(b&&"object"==typeof b)for(var d in b)a[d]=b[d];if(c&&"object"==typeof c)for(var d in c)a[d]=c[d];var e=3,f=arguments.length;if(e>=f)return a;for(var g=e;f>g;g++){var h=arguments[g];for(var i in h)a[i]=h[i]}return a},concat:function(){for(var a=[],b=e(arguments),c=0,d=b.length;d>c;c++){var f=b[c];f instanceof o||(f=e(f)),a=a.concat(f)}return a},require:function(b){return A.expose(b)?a(b):null}}}),B("Array",function(a,b,c){var d=a("$");c=function(b){var c=a("Array.prototype");return new c.init(b)},b.exports=d.extend(c,{concat:d.concat,each:function(a,b,c){for(var d=arguments.callee,e=0,f=a.length;f>e;e++){var g=a[e];if(c&&g instanceof o)d(g,b,!0);else{var h=b(g,e);if(h===!1)break}}return a},parse:function(a,b){if(a instanceof o)return a;var c=[];if(b===!0){for(var d in a)"length"!==d&&c.push(a[d]);return c}if(!a||!a.length)return[];try{c=o.prototype.slice.call(a,0)}catch(e){for(var f=0,g=a.length;g>f;f++)c.push(a[f])}return c},toObject:function(b,c){var d=a("Object");if(!b||!d.isArray(b))return null;var e={};if(c===z){var f=b.length;e.length=f;for(var g=0;f>g;g++)e[g]=b[g];return e}if(d.isArray(c)){for(var h=0,f=c.length,g=0;f>g;g++){var i=c[g];i in e||(e[i]=b[g],h++)}return e.length=h,e}if(d.isPlain(c)){var f=0;for(var i in c)e[i]=b[c[i]],f++;return e.length=f,e}if("function"==typeof c){for(var f=b.length,g=0;f>g;g++){var j=c(b[g],g);if(j instanceof o){var i=j[0],k=j[1];e[i]=k}else{if(!d.isPlain(j))throw new r("处理函数 maps 返回结果的格式不可识别");for(var i in j){e[i]=j[i];break}}}return e.length=f,e}return e},map:function(a,b,d){if("number"==typeof a){var e=a,f=b;b=d,a=c.pad(e,f),d=!1}for(var g,h=arguments.callee,i=[],j=0,k=a.length;k>j;j++){var l=a[j];if(d&&l instanceof o)g=h(l,b,!0);else{if(g=b(l,j),null===g)continue;if(g===z)break}i.push(g)}return i},keep:function(a,b,d){if("number"==typeof a){var e=a,f=b;b=d,a=c.pad(e,f),d=!1}for(var g,h=arguments.callee,i=[],j=0,k=a.length;k>j;j++){var l=a[j];g=d&&l instanceof o?h(l,b,!0):b(l,j),i.push(g)}return i},grep:function(a,b,c){for(var d=arguments.callee,e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(c&&h instanceof o)h=d(h,b,!0),e.push(h);else{var i=b(h,f);i===!0&&e.push(h)}}return e},indexOf:function(a,b){if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},contains:function(a,b){return c.indexOf(a,b)>-1},remove:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];f!==b&&c.push(f)}return c},removeAt:function(a,b){var c=a.slice(0);return c.splice(b,1),c},reverse:function(a){for(var b=[],c=a.length-1;c>=0;c--)b.push(a[c]);return b},merge:function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=arguments[b];d!==z&&(a=a.concat(d))}return a},mergeUnique:function(){for(var a=[],b=arguments.length,d=c.contains,e=0;b>e;e++)for(var f=arguments[e],g=f.length,h=0;g>h;h++)d(a,f[h])||a.push(f[h]);return a},unique:function(a){return c.mergeUnique(a)},toggle:function(a,b){if(c.contains(a,b))return c.remove(a,b);var d=a.slice(0);return d.push(b),d},find:function(a,b,d){return c.findIndex(a,b,d)>-1},findIndex:function(a,b,c){c=c||0;for(var d=c,e=a.length;e>d;d++)if(b(a[d],d)===!0)return d;return-1},findItem:function(a,b,c){c=c||0;for(var d=c,e=a.length;e>d;d++){var f=a[d];if(b(f,d)===!0)return f}return null},random:function(a){for(var b=a.slice(0),c=0,d=b.length;d>c;c++){var e=parseInt(t.random()*c),f=b[c];b[c]=b[e],b[e]=f}return b},randomItem:function(b){var c=a("Math"),d=b.length;if(1>d)return z;var e=c.randomInt(0,d-1);return b[e]},get:function(a,b){var c=a.length;if(b>=0&&c>b)return a[b];var d=b+c;return 0>b&&d>=0?a[d]:null==b?a.slice(0):void 0},trim:function(a){return c.map(a,function(a){return null==a?null:a})},group:function(a,b,d){var e=c.slide(a,b,b);return d===!0&&(e[e.length-1]=a.slice(-b)),e},slide:function(a,b,c){if(b>=a.length)return[a];c=c||1;for(var d=[],e=0,f=a.length;f>e;e+=c){var g=e+b;if(d.push(a.slice(e,g)),g>=f)break}return d},circleSlice:function(a,b,c){var d=a.slice(b,b+c),e=[],f=c-d.length;return f>0&&(e=a.slice(0,f)),d.concat(e)},circleSlide:function(a,b,d){if(a.length<b)return[a];d=d||1;for(var e=[],f=c.circleSlice,g=0,h=a.length;h>g;g+=d)e.push(f(a,g,b));return e},sum:function(a,b,c){for(var d=0,e=!(c===z),f=0,g=a.length;g>f;f++){var h=e?a[f][c]:a[f];if(isNaN(h)){if(b===!0)continue;throw new r("第 "+f+" 个元素的值为 NaN")}d+=u(h)}return d},max:function(a,b,c){for(var d=0,e=!(c===z),f=0,g=a.length;g>f;f++){var h=e?a[f][c]:a[f];if(isNaN(h)){if(b===!0)continue;throw new r("第 "+f+" 个元素的值为 NaN")}h=u(h),h>d&&(d=h)}return d},hasItem:function(b){var c=a("Object");return c.isArray(b)&&b.length>0},reduceDimension:function(a,b){b=b||1;for(var c=a,d=o.prototype.concat,e=0;b>e;e++)c=d.apply([],c);return c},descartes:function(a,b){function c(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)for(var g=0,h=b.length;h>g;g++){var i=[];c?(i=i.concat(a[e]),i.push(b[g])):(i[0]=a[e],i[1]=b[g]),d.push(i)}return d}for(var d=c(a,b),e=2,f=arguments.length;f>e;e++)d=c(d,arguments[e],!0);return d},divideDescartes:function(a,b){for(var c=a.length,d=[],e=0,f=b.length;f>e;e++){for(var g=b[e],h=c/g,i=[],j=0;g>j;j++)i.push(a[j*h][e]);c=h,d[e]=i}return d},transpose:function(a){for(var b=a,c=[],d=b.length,e=1,f=0;e>f;f++){for(var g=[],h=0;d>h;h++)b[h].length>e&&(e=b[h].length),g.push(b[h][f]);c[f]=g}return c},intersection:function(a){function b(a,b){for(var d=[],e=0,f=a.length;f>e;e++)for(var g=a[e],h=0,i=b.length;i>h;h++)if(g===b[h]){d.push(g);break}return c.unique(d)}for(var d=a,e=1,f=arguments.length;f>e;e++)d=b(d,arguments[e]);return d},equals:function(a,b,c){if(!(a instanceof o&&b instanceof o&&a.length==b.length))return!1;c=c||function(a,b){return a===b};for(var d=0,e=a.length;e>d;d++)if(!c(a[d],b[d]))return!1;return!0},isContained:function(a,b){return c.intersection(a,b).length==a.length},padLeft:function(a,b,c){var d=b-a.length;if(0>=d)return a.slice(-d);for(var e=[],f=0;d>f;f++)e.push(c);return e=e.concat(a)},padRight:function(a,b,c){var d=b-a.length;if(0>=d)return a.slice(0,b);for(var e=a.slice(0),f=0;d>f;f++)e.push(c);return e},pad:function(a,b,c){if(a==b)return[];c=t.abs(c||1);var d=[];if(b>a)for(var e=a;b>e;e+=c)d.push(e);else for(var e=a;e>b;e-=c)d.push(e);return d},aggregate:function(a,b,c){for(var d="string"==typeof b,e="function"==typeof c,f={},g=0,h=a.length;h>g;g++){var i=a[g],j=d?i[b]:b(i,g);f[j]||(f[j]=[]);var k=i;if(e){if(k=c(i,g),null===k)continue;if(k===z)break}f[j].push(k)}return f},add:function(a,b){var c=a.slice(0);return c.push(b),c},count:function(a,b){if(arguments.length<2)return a.length;if("function"!=typeof b){var d=b;b=function(a){return a===d}}var e=c.grep(a,b);return e.length}})}),B("Array.prototype",function(a,b){function c(a){this.value=e.parse(a)}var d=a("$"),e=a("Array");b.exports=c.prototype=e.prototype={constructor:e,init:c,value:[],toString:function(a){return a=a===z?"":a,this.value.join(a)},valueOf:function(){return this.value},each:function(){var a=d.concat([this.value],arguments);return e.each.apply(null,a),this},toObject:function(){var a=d.concat([this.value],arguments);return e.toObject.apply(null,a)},map:function(){var a=d.concat([this.value],arguments);return e.map.apply(null,a),this},keep:function(){var a=d.concat([this.value],arguments);return this.value=e.keep.apply(null,a),this},grep:function(){var a=d.concat([this.value],arguments);return this.value=e.grep.apply(null,a),this},indexOf:function(a){d.concat([this.value],arguments);return e.indexOf(this.value,a)},contains:function(a){return e.contains(this.value,a)},remove:function(a){return this.value=e.remove(this.value,a),this},removeAt:function(a){return this.value=e.removeAt(this.value,a),this},reverse:function(){return this.value=e.reverse(this.value),this},merge:function(){var a=d.concat([this.value],arguments);return this.value=e.merge.apply(null,a),this},mergeUnique:function(){var a=d.concat([this.value],arguments);return this.value=e.mergeUnique.apply(null,a),this},unique:function(){return this.value=e.unique(this.value),this},toggle:function(){var a=d.concat([this.value],arguments);return this.value=e.toggle.apply(null,a),this},find:function(){var a=d.concat([this.value],arguments);return e.find.apply(null,a)},findIndex:function(){var a=d.concat([this.value],arguments);return e.findIndex.apply(null,a)},findItem:function(){var a=d.concat([this.value],arguments);return e.findItem.apply(null,a)},random:function(){return this.value=e.random(this.value),this},randomItem:function(){return e.randomItem(this.value)},get:function(){var a=d.concat([this.value],arguments);return e.get.apply(null,a)},trim:function(){return this.value=e.trim(this.value),this},group:function(){var a=d.concat([this.value],arguments);return this.value=e.group.apply(null,a),this},slide:function(){var a=d.concat([this.value],arguments);return this.value=e.slide.apply(null,a),this},circleSlice:function(){var a=d.concat([this.value],arguments);return this.value=e.circleSlice.apply(null,a),this},circleSlide:function(){var a=d.concat([this.value],arguments);return this.value=e.circleSlide.apply(null,a),this},sum:function(){var a=d.concat([this.value],arguments);return e.sum.apply(null,a)},max:function(){var a=d.concat([this.value],arguments);return e.max.apply(null,a)},hasItem:function(){return e.hasItem(this.value)},reduceDimension:function(){var a=d.concat([this.value],arguments);return this.value=e.reduceDimension.apply(null,a),this},descartes:function(){var a=d.concat([this.value],arguments);return this.value=e.descartes.apply(null,a),this},divideDescartes:function(){var a=d.concat([this.value],arguments);return this.value=e.divideDescartes.apply(null,a),this},transpose:function(){return this.value=e.transpose(this.value),this},intersection:function(){var a=d.concat([this.value],arguments);return this.value=e.intersection.apply(null,a),this},equals:function(){var a=d.concat([this.value],arguments);return e.equals.apply(null,a)},isContained:function(){var a=d.concat([this.value],arguments);return e.isContained.apply(null,a)},padLeft:function(){var a=d.concat([this.value],arguments);return this.value=e.padLeft.apply(null,a),this},padRight:function(){var a=d.concat([this.value],arguments);return this.value=e.padRight.apply(null,a),this},pad:function(){var a=d.toArray(arguments);return this.value=e.pad.apply(null,a),this}}}),B("Boolean",function(a,b,c){var d=a("$");c=function(b){var c=a("Boolean.prototype");return new c.init(b)},b.exports=d.extend(c,{parse:function(a){if(!a)return!1;if("string"==typeof a||a instanceof x){var b=/^(false|null|undefined|0|NaN)$/g;return!b.test(a)}return!0},toInt:function(a){return c.parse(a)?1:0},reverse:function(a){return!c.parse(a)},random:function(){return!!t.floor(2*t.random())}})}),B("Boolean.prototype",function(a,b){function c(a){this.value=d.parse(a)}var d=(a("$"),a("Boolean"));b.exports=c.prototype=d.prototype={constructor:d,init:c,value:!1,valueOf:function(){return this.value},toString:function(){return this.value.toString()},toInt:function(){return this.value?1:0},reverse:function(){return this.value=!this.value,this},random:function(){this.value=d.random()}}}),B("Date",function(a,b,c){var d=a("$");c=function(b){var c=a("Date.prototype");return new c.init(b)},b.exports=d.extend(c,{now:function(){return new q},parse:function(a){function b(a){var b=(new q,a.indexOf(".")>0?".":a.indexOf("-")>0?"-":a.indexOf("/")>0?"/":a.indexOf("_")>0?"_":null);if(!b)return null;var c=a.split(b);return{yyyy:c[0],MM:c[1]||0,dd:c[2]||1}}function c(a){var b=a.indexOf(":")>0?":":null;if(!b)return null;var c=a.split(b);return{HH:c[0]||0,mm:c[1]||0,ss:c[2]||0}}if(a instanceof q)return isNaN(a.getTime())?null:a;if("string"!=typeof a)return null;var d=new q(a);if(!isNaN(d.getTime()))return d;var e=a.split(" ");if(!e[0])return null;var d=e[0].indexOf(":")>0?null:e[0],f=e[0].indexOf(":")>0?e[0]:e[1]||null;if(d||f){if(d&&f){var g=b(d),h=c(f);return new q(g.yyyy,g.MM-1,g.dd,h.HH,h.mm,h.ss)}if(d){var g=b(d);return new q(g.yyyy,g.MM-1,g.dd)}if(f){var i=new q,h=c(f);return new q(i.getFullYear(),i.getMonth(),i.getDate(),h.HH,h.mm,h.ss)}}return null},format:function(b,c){for(var d=a("String"),e=b.getFullYear(),f=b.getMonth()+1,g=b.getDate(),h=b.getHours(),i=b.getMinutes(),j=b.getSeconds(),k=function(a,b){return d.padLeft(a,b,"0")},l=12>=h,m=[["yyyy",k(e,4)],["yy",x(e).slice(2)],["MM",k(f,2)],["M",f],["dddd","星期"+"日一二三四五六".charAt(b.getDay())],["dd",k(g,2)],["d",g],["HH",k(h,2)],["H",h],["hh",k(l?h:h-12,2)],["h",l?h:h-12],["mm",k(i,2)],["m",i],["ss",k(j,2)],["s",j],["tt",l?"AM":"PM"],["t",l?"A":"P"],["TT",l?"上午":"下午"],["T",l?"上":"下"]],n=c,o=d.replaceAll,p=0,q=m.length;q>p;p++){var r=m[p];n=o(n,r[0],r[1])}return n},addYears:function(a,b){return b=12*b,c.addMonths(a,b)},addMonths:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setMonth(a.getMonth()+b),c},addWeeks:function(a,b){return b=7*b,c.addDays(a,b)},addDays:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setDate(a.getDate()+b),c},addHours:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setHours(a.getHours()+b),c},addMinutes:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setMinutes(a.getMinutes()+b),c},addSeconds:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setSeconds(a.getSeconds()+b),c},addMilliseconds:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setMilliseconds(a.getMilliseconds()+b),c}})}),B("Date.prototype",function(a,b){function c(a){this.value=a===z?new q:d.parse(a)}var d=a("Date");b.exports=c.prototype=d.prototype={constructor:d,init:c,value:new q,valueOf:function(){return this.value},toString:function(a){return d.format(this.value,a)},format:function(a){return d.format(this.value,a)},addYears:function(a){return this.value=d.addYears(this.value,a),this},addMonths:function(a){return this.value=d.addMonths(this.value,a),this},addDays:function(a){return this.value=d.addDays(this.value,a),this},addHours:function(a){return this.value=d.addHours(this.value,a),this},addMinutes:function(a){return this.value=d.addMinutes(this.value,a),this},addSeconds:function(a){return this.value=d.addSeconds(this.value,a),this},addMilliseconds:function(a){return this.value=d.addMilliseconds(this.value,a),this}}}),B("Function",function(a,b,c){b.exports=c={empty:function(){},bind:function(a,b){var c=o.prototype.slice.call(arguments,2);return function(){var d=o.prototype.slice.call(arguments,0);d=c.concat(d),b.apply(a,d)}},setInterval:function(a,b,c){var d=a,e=arguments.callee,f="__MiniQuery.Funcion.setInterval.count__";d[f]=(d[f]||0)+1;var g=l(function(){var h=a(d[f]);return null===h?void clearTimeout(g):void((c===z||d[f]<c)&&e(a,b,c))},b)},debounce:function(a,b){var c=null;return function(){clearTimeout(c),c=l(a,b)}}}}),B("Math",function(a,b,c){b.exports=c={randomInt:function(a,b){if(a===z&&b===z)return u(x(t.random()).replace(".","").replace(/^0*/g,""));b===z&&(b=a,a=0);var c=b-a+1;return t.floor(t.random()*c+a)},slide:function(a,b,c){return c=c||1,a+=c,a>=0?a%b:(b-t.abs(a)%b)%b},next:function(a,b){return c.slide(a,b,1)},previous:function(a,b){return c.slide(a,b,-1)},parseInt:function(a){return parseInt(a,10)},parsePercent:function(b){var c=a("String");return"string"==typeof b&&c(b).trim().endsWith("%")?parseInt(b)/100:b}}}),B("Object",function(b,c,d){var e=b("$");d=function(a){var c=b("Object.prototype");return new c.init(a)},c.exports=e.extend(d,{extend:e.extend,extendSafely:function(){var a=arguments.length;if(0==a)return null;var b=arguments[0];if(1==a)return b;for(var c=1;a>c;c++){var d=arguments[c];for(var e in d)e in b||(b[e]=d[e])}return b},extendDeeply:function(a,b,c){function e(a,b){a=a||{};for(var c in b){var f=b[c];d.isPlain(f)&&(f=e(a[c],f)),a[c]=f}return a}b&&"object"==typeof b&&(a=e(a,b)),c&&"object"==typeof c&&(a=e(a,c));var f=3,g=arguments.length;if(f>=g)return a;for(var h=f;g>h;h++){var i=arguments[h];a=e(a,i)}return a},clone:function(a){{var c=b("Array"),e=arguments.callee;MiniQuery}if(d.isArray(a))return c.keep(a,function(a){return a&&!d.isValueType(a)&&d.isPlain(a)?e(a):a});if(!a||d.isValueType(a)||!d.isPlain(a))return a;var f={};for(var g in a){var h=a[g];switch(typeof h){case"string":case"number":case"boolean":case"function":case"undefined":f[g]=h;break;case"object":f[g]=e(h)}}return f},each:function(a,b,c){var d=arguments.callee;for(var e in a){var f=a[e];if(c===!0&&f&&"object"==typeof f)d(f,b,!0);else if(b(e,f)===!1)break}},getType:function(a){return null===a?"null":a===z?"undefined":"string"==typeof a?"string":"number"==typeof a?"number":"boolean"==typeof a?"boolean":v.prototype.toString.call(a).slice(8,-1)},isArray:function(a,b){return b===!0?a instanceof o:"function"==typeof o.isArray?o.isArray(a):a instanceof o||"Array"==d.getType(a)},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isFunction:function(a){return"function"==typeof a},isBuiltinType:function(a){for(var b=[x,u,p,o,q,w,s],c=0,d=b.length;d>c;c++)if(a instanceof b[c])return!0;return!1},isEmpty:function(a){for(var b in a)return!1;return!0},isPlain:function(a){if(!a||"object"!=typeof a)return!1;var b=v.prototype.hasOwnProperty,c=a.constructor;try{if(c&&!b.call(a,"constructor")&&!b.call(c.prototype,"isPrototypeOf"))return!1}catch(d){return!1}var e;for(e in a);return e===z||b.call(a,e)},isValueType:function(a){var b=typeof a;return"string"==b||"number"==b||"boolean"==b},isWrappedType:function(a){for(var b=[x,u,p],c=0,d=b.length;d>c;c++)if(a instanceof b[c])return!0;return!1},isNonNull:function(a){if(!a)return!1;var b=typeof a;return"object"==b||"function"==b},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isDocument:function(a){return a&&"object"==typeof a&&"getElementById"in a},map:function(a,b,c){var e=arguments.callee,f={};for(var g in a){var h=a[g];f[g]=c&&d.isPlain(h)?e(h,b,c):b(g,h)}return f},namespace:function(c,e,f){function g(a,b,c){for(var d=b.split("."),e=a,f=d.length,g=f-1,h=c===z,i=0;f>i;i++){var j=d[i];if(h&&!(j in e))return;if(g>i)e[j]=e[j]||{},e=e[j];else{if(c===z)return e[j];e[j]=c}}return c}if("string"==typeof e){var h=c,i=e,j=f;return g(h,i,j)}if("string"==typeof c){var h=a,i=c,j=e;return g(h,i,j)}if(d.isPlain(e)&&f===z){var k=c,l=e,h=a;return d.each(l,function(a,b){if("string"!=typeof b)throw new r("当指定第二个参数为键值对映射表时，值必须为 string 类型");var c=k[a];g(h,b,c)}),h}if(d.isArray(f)){var m=b("Array"),h=c,k=e,n=f;return m.each(n,function(a){h[a]=k[a]}),h}},parseJson:function(c){if("string"!=typeof c||!c)return null;var d=b("String");if(c=d.trim(c),a.JSON&&a.JSON.parse)return a.JSON.parse(c);var e=/^[\],:{}\s]*$/,f=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,h=/(?:^|:|,)(?:\s*\[)+/g;if(c=c.replace(f,"@").replace(g,"]").replace(h,""),!e.test(c))throw new r("非法的 JSON 数据: "+c);return new s("return "+c)()},parseQueryString:function(a,c,d){if(!a||"string"!=typeof a)return{};for(var e=b("String"),f=arguments.callee,g=d?unescape:decodeURIComponent,h=!c,i=e.toValue,j={},k=a.split("&"),l=0,m=k.length;m>l;l++){var n=k[l].split("="),p=g(n[0]),q=n.length>1?g(n[1]):"";if(q=h&&q.indexOf("=")>0?f(q):i(q),p in j){var r=j[p];r instanceof o?r.push(q):j[p]=[r,q]}else j[p]=q}return j},remove:function(a,b){var c=d.extend({},a);if("string"==typeof b)delete c[b];else if(d.isArray(b))for(var e=0,f=b.length;f>e;e++)delete c[b[e]];else for(var g in b)delete c[g];return c},replaceValues:function(a,b,c){for(var d in a){var e=a[d];switch(typeof e){case"string":case"number":case"boolean":for(var f in b)if(d==f){a[d]=b[f];break}break;case"object":!c&&arguments.callee(e,b)}}return a},toArray:function(a,b,c){var e=arguments.callee;if(!b)return d.getValues(a,c);if(b instanceof o){for(var f=b,g=[],h=0,i=f.length;i>h;h++){var j=a[f[h]];g.push(j)}return g}if(b===!0){var g=[];for(var k in a){var j=a[k];c===!0&&j&&"object"==typeof j&&(j=e(j,b,c)),g.push([k,j])}return g}if("function"==typeof b){var l=b,g=[];for(var k in a){var j=a[k];if(j=c===!0&&j&&"object"==typeof j?e(j,b,c):l(k,j),null!==j){if(j===z)break;g.push(j)}}return g}},toJson:function(b){if(a.JSON){var c=function(b){return a.JSON.stringify(b)};return d.toJson=c,c(b)}if(null==b)return x(b);switch(typeof b){case"string":return'"'+b+'"';case"number":case"boolean":return b;case"function":return b.toString()}if(b instanceof x||b instanceof u||b instanceof p||b instanceof q)return arguments.callee(b.valueOf());if(b instanceof w)return arguments.callee(b.toString());if(d.isArray(b)){for(var e=[],f=0,g=b.length;g>f;f++)e.push(arguments.callee(b[f]));return"["+e.join(", ")+"]"}var h=[];for(var i in b)h.push('"'+i+'": '+arguments.callee(b[i]));return"{ "+h.join(", ")+" }"},toQueryString:function(a,b){if(null==a)return x(a);switch(typeof a){case"string":case"number":case"boolean":return a}if(a instanceof x||a instanceof u||a instanceof p||a instanceof q)return a.valueOf();if(d.isArray(a))return"["+a.join(", ")+"]";var c=arguments.callee,e=b?escape:encodeURIComponent,f=[];for(var g in a)f.push(e(g)+"="+e(c(a[g])));return f.join("&")},trim:function(a,c,e){if(!c&&!e){var f={};for(var g in a){var h=a[g];null!=h&&(f[g]=h)}return f}var i=b("Array"),j=arguments.callee,k=i.contains,l=d.extend;"boolean"==typeof c&&(e=c,c=z),c||(c=[null,z]);var f=l({},a);for(var g in f){var h=f[g];k(c,h)?delete f[g]:e===!0&&"object"==typeof h&&h&&(h=l({},h),f[g]=j(h,c,!0))}return f},create:function(a){var b="function"==typeof v.create?v.create:function(a){function b(){}return b.prototype=a,b.prototype.constructor=b,new b};return d.create=b,b(a)},filter:function(a,c){var e=b("Array"),f={};if(d.isArray(c))e.each(c,function(b){b in a&&(f[b]=a[b])});else if(d.isPlain(c))d.each(c,function(b){b in a&&(f[b]=a[b])});else{if("string"!=typeof c)throw new r("无法识别参数 samples 的类型");var g=c;g in a&&(f[g]=a[g])}return f},filterTo:function(a,b,c){var e=d.filter(b,c);return d.extend(a,e)},grep:function(a,b){var c={};for(var d in a){var e=a[d];b(d,e)===!0&&(c[d]=e)}return c},find:function(a,b,c){var e=!1;return d.each(a,function(a,c){return b(a,c)===!0?(e=!0,!1):void 0},c),e},findItem:function(a,b,c){var e=[];return d.each(a,function(a,c){return b(a,c)===!0?(e=[a,c],!1):void 0},c),e},findKey:function(a,b,c){var e=d.findItem(a,b,c);return e[0]},findValue:function(a,b,c){var e=d.findItem(a,b,c);return e[1]},get:function(a,b,c){return a&&b in a?a[b]:c},set:function(a,b,c){return a[b]=c,a},make:function(a,c){var e=b("Array"),f={};return d.isArray(a)?e(arguments).each(function(a){f[a[0]]=a[1]}):f[a]=c,f},getKeys:function(a,b){var c=arguments.callee,d=[];for(var e in a){var f=a[e];b===!0&&"object"==typeof f&&null!==f&&(e=c(f,b)),d.push(e)}return d},getValues:function(a,b){var c=arguments.callee,d=[];for(var e in a){var f=a[e];b===!0&&"object"==typeof f&&null!==f&&(f=c(f,b)),d.push(f)}return d},getItems:function(a,b){return d.toArray(a,!0,b)},join:function(a,b,c){b=b||"=",c=c||"&";var d=[];for(var e in a)d.push(e+b+a[e]);return d.join(c)},overwrite:function(a,b){for(var c in a)delete a[c];return d.extend(a,b)}})}),B("Object.prototype",function(a,b){function c(a){this.value=v(a)}var d=a("$"),e=a("Object");b.exports=c.prototype=e.prototype={constructor:e,init:c,value:{},valueOf:function(){return this.value},clone:function(){return e.clone(this.value)},each:function(){var a=d.concat([this.value],arguments);return e.each.apply(null,a),this},extend:function(){var a=d.concat([this.value],arguments);return this.value=e.extend.apply(null,a),this},extendSafely:function(){var a=d.concat([this.value],arguments);return this.value=e.extendSafely.apply(null,a),this},getType:function(){return e.getType(this.value)},isArray:function(a){return e.isArray(this.value,a)},isBuiltinType:function(){return e.isBuiltinType(this.value)},isEmpty:function(){return e.isEmpty(this.value)},isPlain:function(){return e.isPlain(this.value)},isValueType:function(){return e.isValueType(this.value)},isWindow:function(){return e.isWindow(this.value)},isWrappedType:function(){return e.isWrappedType(this.value)},map:function(){var a=d.concat([this.value],arguments);return this.value=e.map.apply(null,a),this},namespace:function(){var a=d.concat([this.value],arguments);return this.value=e.namespace.apply(null,a),this},parseJson:function(a){return this.value=e.parseJson(a),this},parseQueryString:function(){var a=d.toArray(arguments);return this.value=e.parseQueryString.apply(null,a),this},remove:function(a){return this.value=e.remove(this.value,a),this},replaceValues:function(){var a=d.concat([this.value],arguments);return this.value=e.replaceValues.apply(null,a),this},toArray:function(){var a=d.concat([this.value],arguments);return e.toArray.apply(null,a)},toJson:function(){return e.toJson(this.value)},toQueryString:function(){var a=d.concat([this.value],arguments);return e.toQueryString.apply(null,a)},join:function(){var a=d.concat([this.value],arguments);return e.join.apply(null,a)},trim:function(){var a=d.concat([this.value],arguments);return this.value=e.trim.apply(null,a),this},filter:function(a){return this.value=e.filter(this.value,a),this},filterTo:function(a,b){return this.value=e.filterTo(this.value,a,b),this},grep:function(a){return this.value=e.grep(this.value,a),this},find:function(a,b){return e.find(this.value,a,b)},findItem:function(a,b){return e.findItem(this.value,a,b)},findKey:function(a,b){return e.findKey(this.value,a,b)},findValue:function(a,b){return e.findValue(this.value,a,b)},get:function(a,b){return e.get(this.value,a,b)},set:function(a,b){return e.set(this.value,a,b),this},make:function(a,b){return this.value=e.make(a,b),this},getKeys:function(a){return e.getKeys(this.value,a)},getValues:function(a){return e.getValues(this.value,a)},getItems:function(a){return e.getItems(this.value,a)}}}),B("core/String",function(a,b,c){var d=a("$");c=function(b){var c=a("String.prototype");return new c.init(b)},b.exports=d.extend(c,{format:function(a,b){var d=a;if("object"==typeof b)for(var e in b)d=c.replaceAll(d,"{"+e+"}",b[e]);else for(var f=o.prototype.slice.call(arguments,1),g=0,h=f.length;h>g;g++)d=c.replaceAll(d,"{"+g+"}",f[g]);return d},replaceAll:function(a,b,c){return a.split(b).join(c)},replaceBetween:function(a,b,c,d){var e=a.indexOf(b);if(0>e)return a;var f=a.indexOf(c);if(0>f)return a;var g=a.slice(0,e),h=a.slice(f+c.length);return g+d+h},removeAll:function(b,d){var e=a("Object"),f=a("Array"),g=c.replaceAll;return e.isArray(d)?(f.each(d,function(a){b=g(b,a,"")}),b):g(b,d,"")},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},trimStart:function(a){return a.replace(/(^\s*)/g,"")},trimEnd:function(a){return a.replace(/(\s*$)/g,"")},padLeft:function(a,b,c){a=x(a);var d=a.length;if(d>=b)return a.substr(-b);c=c||" ";var e=[];return e.length=b-d+1,e.join(c)+a},padRight:function(a,b,c){a=x(a);var d=a.length;if(d>=b)return a.substring(0,b);c=c||" ";var e=[];return e.length=b-d+1,a+e.join(c)},between:function(a,b,c){var d=a.indexOf(b);if(0>d)return"";d+=b.length;var e=a.indexOf(c,d);return 0>e?"":a.substr(d,e-d)},random:function(a){if(a===z&&(a=12),"number"==typeof a){var b=a+1;0>b&&(b=0),a=[],a.length=b,a=a.join("x")}return a.replace(/x/g,function(){var a=16*t.random()|0;return a.toString(16)}).toUpperCase()}}),d.extend(c,{startsWith:function(a,b,c){if(c){var d=a.substring(0,b.length);return d.toUpperCase()===b.toString().toUpperCase()}return 0==a.indexOf(b)},endsWith:function(a,b,c){var d=a.length,e=b.length,f=d-e;if(c){var g=a.substring(f,d);return g.toUpperCase()===b.toString().toUpperCase()}return a.lastIndexOf(b)==f},contains:function(b,c,d){var e=a("Object"),f=a("Array");if(b=x(b),e.isArray(c)){var g;return d===!0?(g=!1,f.each(c,function(a){return g=b.indexOf(a)>-1,g?!1:void 0})):(g=!0,f.each(c,function(a){return g=b.indexOf(a)>-1,g?void 0:!1})),g}return b.indexOf(c)>-1}}),d.extend(c,{toCamelCase:function(a){var b=/^-ms-/,c=/-([a-z]|[0-9])/gi;return a.replace(b,"ms-").replace(c,function(a,b){return b.toString().toUpperCase()})},toHyphenate:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},toUtf8:function(b){var c=a("Array"),d=[];return c.each(b.split(""),function(a){var b=a.charCodeAt(0);128>b?d.push(b):2048>b?(d.push((1984&b)>>6|192),d.push(63&b|128)):(d.push((61440&b)>>12|224),d.push((4032&b)>>6|128),d.push(63&b|128))}),"%"+c.keep(d,function(a){return a.toString(16)}).join("%")},toValue:function(a){if("string"!=typeof a)return a;var b={"true":!0,"false":!1,"null":null,undefined:z,NaN:0/0};return a in b?b[a]:a}}),d.extend(c,{split:function(b,c){function d(a,b,c){return c--,e.map(a,function(a){return 0==c?x(a).split(b):d(a,b,c)})}for(var e=a("Array"),f=x(b).split(c[0]),g=1,h=c.length;h>g;g++)f=d(f,c[g],g);return f},slide:function(b,c,d){var e=a("Array"),f=x(b).split("");return e(f).slide(c,d).map(function(a){return a.join("")}).valueOf()},segment:function(a,b){return c.slide(a,b,b)}}),d.extend(c,{getTemplates:function(b,d){var e=a("Array"),f=d[0],g=c.between,h=c.replaceBetween,i={},j=g(b,f.begin,f.end);e.each(d.slice(1).reverse(),function(a,b){var c=a.name||b,d=a.begin,e=a.end,f=a.fn,k=g(j,d,e);"outer"in a&&(j=h(j,d,e,a.outer)),f&&(k=f(k,a)),i[c]=k});var k=f.fn;return k&&(j=k(j,f)),i[f.name]=j,i},getByteLength:function(a){return a?a.toString().replace(/[\u0100-\uffff]/g,"  ").length:0}})}),B("String",function(a,b){b.exports=a("core/String")}),B("String.prototype",function(a,b){function c(a){this.value=x(a)}var d=a("$"),e=a("String");b.exports=c.prototype=e.prototype={constructor:e,init:c,value:"",toString:function(){return this.value},valueOf:function(){return this.value},format:function(){var a=d.concat([this.value],arguments);return this.value=e.format.apply(null,a),this},replaceAll:function(){var a=d.concat([this.value],arguments);return this.value=e.replaceAll.apply(null,a),this},replaceBetween:function(){var a=d.concat([this.value],arguments);return this.value=e.replaceBetween.apply(null,a),this},removeAll:function(a){return this.value=e.replaceAll(this.value,a,""),this},random:function(a){return this.value=e.random(a),this},trim:function(){return this.value=e.trim(this.value),this},trimStart:function(){return this.value=e.trimStart(this.value),this},trimEnd:function(){return this.value=e.trimEnd(this.value),this},split:function(a){return e.split(this.value,a)},startsWith:function(a,b){return e.startsWith(this.value,a,b)},endsWith:function(a,b){return e.endsWith(this.value,a,b)},contains:function(a,b){return e.contains(this.value,a,b)},padLeft:function(a,b){return this.value=e.padLeft(this.value,a,b),this},padRight:function(a,b){return this.value=e.padRight(this.value,a,b),this},toCamelCase:function(){return this.value=e.toCamelCase(this.value),this},toHyphenate:function(){return this.value=e.toHyphenate(this.value),this},between:function(a,b){return this.value=e.between(this.value,a,b),this},toUtf8:function(){return this.value=e.toUtf8(this.value),this},toValue:function(){return e.toValue(this.value)},slide:function(a,b){return e.slide(this.value,a,b)},segment:function(a){return e.segment(this.value,a,a)}}}),B("Event",function(a,b,c){var d=a("$"),e=a("Mapper"),f=e.getGuidKey(),g=new e;c=function(b){var c=a("Event.prototype");return new c.init(b)},b.exports=d.extend(c,{bind:function(b,c,d,e){function f(a,b){if("function"!=typeof b)throw new r("参数 fn 必须为一个 function");
var c=h[a]||[];c.push({fn:b,isOnce:e}),h[a]=c}var h=g.get(b);switch(h||(h={},g.set(b,h)),typeof c){case"string":f(c,d);break;case"object":var i=a("Object");if(!i.isPlain(c))throw new r("当别参数 eventName 为 object 类型时，必须指定为纯对象 {}");e=d,i.each(c,function(a,b){f(a,b)});break;default:throw new r("无法识别参数 eventName 的类型")}e=!!e},once:function(){var a=d.concat(arguments,[!0]);c.bind.apply(null,a)},unbind:function(b,c,d){var e=g.get(b);if(e){if(c===z)return void g.remove(b);if("string"!=typeof c)throw new r("如果指定了参数 eventName，则其类型必须为 string");var f=e[c];if(f){if(!d)return void(e[c]=[]);var h=a("Array");e[c]=h.grep(f,function(a){return a.fn!==d})}}},trigger:function(b,c,d){var e=[],f=g.get(b);if(!f)return e;var h=f[c];if(!h)return e;var i=a("Array");return d=d||[],h=h.slice(0),i.each(h,function(a,g){if(a.isOnce){var g=i.indexOf(f[c],a);g>-1&&f[c].splice(g,1)}var h=a.fn.apply(b,d);e.push(h)}),e},triggerStop:function(a,b,c,d){var e=[],f=g.get(a);if(!f)return e;var h=f[b];if(!h)return e;c=c||[],3==arguments.length&&(d=!1);for(var i=[],j=0,k=h.length;k>j;j++){var l=h[j],m=l.fn.apply(a,c);if(l.isOnce||i.push(l),e.push(m),m===d)break}return h=h.slice(j+1),f[b]=i.concat(h),e},has:function(b,c,d){var e=g.get(b);if(!e)return!1;var f=a("Object");if(c===z){if(f.isEmpty(e))return!1;var h=!1;return f.each(e,function(a,b){return b&&b.length>0?(h=!0,!1):void 0}),h}if("string"!=typeof c)throw new r("如果指定了参数 eventName，则其类型必须为 string");var i=e[c];if(!i||0==i.length)return!1;if(d===z)return!0;var j=a("Array");return j.find(i,function(a){return a.fn===d})},toggle:function(a,b,d,e){c.has(a,b,d)?c.unbind(a,b,d):c.bind(a,b,d,e)},unique:function(a,b,d,e){c.has(a,b,d)||c.bind(a,b,d,e)},create:function(){var b=a("String"),d={};return d[f]=b.random(),new c(d)}})}),B("Event.prototype",function(a,b){function c(a){this.value=a}var d=a("$"),e=a("Event");b.exports=c.prototype=e.prototype={constructor:e,init:c,value:{},valueOf:function(){return this.value},on:function(){var a=d.concat([this.value],arguments);return e.bind.apply(null,a),this},off:function(){var a=d.concat([this.value],arguments);return e.unbind.apply(null,a),this},bind:function(){var a=d.concat([this.value],arguments);return e.bind.apply(null,a),this},unbind:function(){var a=d.concat([this.value],arguments);return e.unbind.apply(null,a),this},once:function(){var a=d.concat([this.value],arguments);return e.once.apply(null,a),this},trigger:function(a,b){var b=d.concat([this.value],arguments);return e.trigger.apply(null,b)},triggerStop:function(a,b){var b=d.concat([this.value],arguments);return e.triggerStop.apply(null,b)},fire:function(a,b){var b=d.concat([this.value],arguments);return e.trigger.apply(null,b)},fireStop:function(a,b){var b=d.concat([this.value],arguments);return e.triggerStop.apply(null,b)},has:function(){var a=d.concat([this.value],arguments);return e.has.apply(null,a)},toggle:function(){var a=d.concat([this.value],arguments);return e.toggle.apply(null,a),this},unique:function(){var a=d.concat([this.value],arguments);return e.unique.apply(null,a)}}}),B("Mapper",function(a,b){function c(a,b){var c=f.random();this[g]=c,h[c]={guid:{},"false":{},string:{},number:{},"boolean":{},object:{},"function":{},undefined:{}},arguments.length>0&&this.set(a,b)}function d(b){if("function"==typeof b){var c=[];if("name"in b&&c.push(b.name),"length"in b&&c.push(b.length),c.length>0)return c.join("#")}var d=a("Object");return d.getType(b)}var e=a("$"),f=a("String"),g="__guid__"+f.random(),h={};e.extend(c.prototype,{set:function(b,c){var e=h[this[g]];if(!b)return e["false"][x(b)]=c,c;var f=typeof b;if("object"==f&&g in b){var i=b[g];return void(e.guid[i]=c)}switch(f){case"string":case"number":case"boolean":e[f][x(b)]=c;break;case"object":case"function":var j=d(b),k=e[f][j];if(k){var l=a("Array"),m=l.findItem(k,function(a){return a[0]===b});m?m[1]=c:k.push([b,c])}else k=[[b,c]];e[f][j]=k}return c},setBatch:function(b){var c=a("Array"),d=this;c.each(b,function(a){d.set(a[0],a[1])})},get:function(b){var c=h[this[g]];if(!b)return c["false"][x(b)];var e=typeof b;if("object"==e&&g in b){var f=b[g];return c.guid[f]}switch(e){case"string":case"number":case"boolean":return c[e][x(b)];case"object":case"function":var i=d(b),j=c[e][i];if(j){var k=a("Array"),l=k.findItem(j,function(a){return a[0]===b});if(l)return l[1]}}return z},remove:function(b){var c=h[this[g]];if(!b)return void delete c["false"][x(b)];var e=typeof b;if("object"==e&&g in b){var f=b[g];return void delete c.guid[f]}switch(e){case"string":case"number":case"boolean":delete c[e][x(b)];break;case"object":case"function":var i=d(b),j=c[e][i];if(j){var k=a("Array");c[e][i]=k.grep(j,function(a){return a[0]!==b})}}},dispose:function(){h[this[g]]=null,delete this[g]}}),e.extend(c,{getGuidKey:function(){return g}}),b.exports=c}),B("Module",function(a,b){function c(b){var c=a("Object");return c.findKey(e,function(a,c){return c===b})}var d={},e={};b.exports={define:function(a,b){d[a]={required:!1,exports:b,exposed:!1},e[a]=b},require:function(a){if(0==a.indexOf("./")){var b=c(arguments.callee.caller);if(!b)throw new r('require 时如果指定了以 "./" 开头的短名称，则必须用在 define 的函数体内');a=b+a.slice(1)}var e=d[a];if(e){var f=arguments.callee,g=e.exports;if(e.required)return g;if("function"==typeof g){var h=g;g={};var i={id:a,exports:g},j=h(f,i,g);g=j===z?i.exports:j,e.exports=g}return e.required=!0,g}}}}),B("excore/Url",function(a,b,c){b.exports=c={getQueryString:function(b,c,d){var e=b.indexOf("?");if(!(0>e)){var f=b.indexOf("#");0>f&&(f=b.length);var g=b.slice(e+1,f);if(""===c)return decodeURIComponent(g);var h=a("Object"),i=h.parseQueryString(g);if(c===z)return i;if(!d||c in i)return i[c];c=c.toString().toLowerCase();for(var j in i)if(j.toLowerCase()==c)return i[j]}},addQueryString:function(b,d,e){var f=a("Object"),g=c.getQueryString(b)||{};"object"==typeof d?f.extend(g,d):g[d]=e;var h={};for(var d in g){var e=g[d];null!==e&&(h[d]=e)}return c.setQueryString(b,h)},randomQueryString:function(b,d){var e=a("String"),f=e.random(d);return c.addQueryString(b,f,"")},setQueryString:function(b,c,d){var e=a("Object"),f=typeof c,g=/^(string|number|boolean)$/.test(f),h="";if(2==arguments.length&&g)h=encodeURIComponent(c);else{var i="object"==f?c:e.make(c,d);h=e.toQueryString(i)}var j,k=b.indexOf("?")>-1,l=b.indexOf("#")>-1;return k&&l?(j=b.split(/\?|#/g),j[0]+"?"+h+"#"+j[2]):k?(j=b.split("?"),j[0]+"?"+h):l?(j=b.split("#"),j[0]+"?"+h+"#"+j[1]):b+"?"+h},hasQueryString:function(b,d,e){var f=c.getQueryString(b);if(!f)return!1;var g=a("Object");if(!d)return!g.isEmpty(f);if(d in f)return!0;if(e){d=d.toString().toLowerCase();for(var h in f)if(h.toLowerCase()==d)return!0}return!1},getHash:function(b,c,d){var e=b.indexOf("#");if(!(0>e)){var f=b.length,g=b.slice(e+1,f);if(g=unescape(g),""===c)return g;var h=a("Object"),i=h.parseQueryString(g);if(c===z)return i;if(!d||c in i)return i[c];c=c.toString().toLowerCase();for(var j in i)if(j.toLowerCase()==c)return i[j]}},setHash:function(b,c,d){var e=a("Object"),f=typeof c,g=/^(string|number|boolean)$/.test(f),h="";if(2==arguments.length&&g)h=x(c);else{var i="object"==f?c:e.make(c,d);h=e.toQueryString(i)}h=escape(h);var j=b.lastIndexOf("#");return j>-1&&(b=b.slice(0,j)),b+"#"+h},hasHash:function(b,d,e){var f=c.getHash(b);if(!f)return!1;var g=a("Object");if(!d)return!g.isEmpty(f);if(d in f)return!0;if(e){d=d.toString().toLowerCase();for(var h in f)if(h.toLowerCase()==d)return!0}return!1}}}),B("Url",function(a){return a("excore/Url")}),B("LocalStorage",function(a,b){function c(a,b){if(!(a in o&&o[a]===b)){o[a]=b;var c=n.stringify(o);l.setItem(m,c)}}function e(a){return o[a]}function f(a){delete o[a];var b=n.stringify(o);l.setItem(m,b)}function g(){o={};var a=n.stringify(o);l.setItem(m,a)}function h(a){for(var b in o)a(b,o[b])}function i(){return j().length}function j(){if("function"==typeof v.keys)return v.keys(o);var a=[];for(var b in o)a.push(b);return a}function k(a){return j()[a]}var l=d.localStorage;if(!l)return null;var m="__MiniQuery.LocalStorage__",o=l.getItem(m)||null;o=n.parse(o)||{},b.exports={set:c,get:e,remove:f,clear:g,each:h,length:i,keys:j,key:k}}),B("SessionStorage",function(){function a(a,b){if(!(a in l&&l[a]===b)){l[a]=b;var c=n.stringify(l);j.setItem(k,c)}}function b(a){return l[a]}function c(a){delete l[a];var b=n.stringify(l);j.setItem(k,b)}function e(){l={};var a=n.stringify(l);j.setItem(k,a)}function f(a){for(var b in l)a(b,l[b])}function g(){if("function"==typeof v.keys)return v.keys(l);var a=[];for(var b in l)a.push(b);return a}function h(a){return g()[a]}function i(){return g().length}var j=d.sessionStorage;if(!j)return null;var k="__MiniQuery.SessionStorage__",l=j.getItem(k)||null;return l=n.parse(l)||{},{set:a,get:b,remove:c,clear:e,each:f,length:i,keys:g,key:h}}),B("Script",function(a,b,c){function e(a,b,c,d){var e;if("object"==typeof a){var f=a;e=f.id,a=f.url,b=f.charset,c=f.document,d=f.onload}var g=c.createElement("script");g.type="text/javascript",e&&(g.id=e),b&&(g.charset=b),d&&(g.readyState?g.onreadystatechange=function(){var a=g.readyState;("loaded"==a||"complete"==a)&&(g.onreadystatechange=null,d())}:g.onload=d),g.src=a,c.head.appendChild(g)}function f(a,b,c,d){var f=0;!function(){var g=arguments.callee,h=a[f];e(h,b,c,function(){f++,f<a.length?g():d&&d()})}()}function g(b,c,d){var e=a("String"),f=e.format('<script type="text/javascript" src="{src}" {charset} ></script>',{src:b,charset:c?e.format('charset="{0}"',c):""});d.write(f)}var h={url:"",id:"",charset:"utf-8",document:d.document,onload:null};b.exports=c={load:function(b){var c=a("Object"),d=c.extend({},h);if(c.isPlain(b))c.extend(d,b);else{switch(d.url=b,typeof arguments[1]){case"string":d.charset=arguments[1];break;case"object":d.document=arguments[1];break;case"function":d.onload=arguments[1]}switch(typeof arguments[2]){case"object":d.document=arguments[2];break;case"function":d.onload=arguments[2]}arguments[3]&&(d.onload=arguments[3])}var g=d.url;if("string"==typeof g)e(d);else{if(!(g instanceof o))throw new r("参数 params.url 必须为 string 或 string 的数组");f(g,d.charset,d.document,d.onload)}},insert:function(b){var c={code:"",id:"",document:d.document},e=a("Object");if(e.isPlain(b))e.extend(c,b);else{switch(c.code=b,typeof arguments[1]){case"string":c.id=arguments[1];break;case"object":c.document=arguments[1]}arguments[2]&&(c.document=arguments[2])}var f=c.document.createElement("script");f.type="text/javascript",c.id&&(f.id=c.id);try{f.appendChild(c.document.createTextNode(c.code))}catch(g){f.text=c.code}c.document.getElementsByTagName("head")[0].appendChild(f)},write:function(b){var c={url:"",charset:"",document:d.document},e=a("Object");if(e.isPlain(b))e.extend(c,b);else{switch(c.url=b,typeof arguments[1]){case"string":c.charset=arguments[1];break;case"object":c.document=arguments[1]}arguments[2]&&(c.document=arguments[2])}if(e.isArray(c.url))for(var f=c.url,h=0,i=f.length;i>h;h++)g(f[h],c.charset,c.document);else g(c.url,c.charset,c.document)}}}),B("browser/Url",function(a,b,c){var d=a("$"),e=a("String"),f=a("Mapper"),g=a("excore/Url"),h=new f,i="__hashchange__"+e.random();b.exports=c={getQueryString:function(a){var b="object"==typeof a?a.location.href:a,c=d.toArray(arguments);return c[0]=b,g.getQueryString.apply(null,c)},setQueryString:function(a){var b=d.toArray(arguments);if("string"==typeof a)return g.setQueryString.apply(null,b);var c=a.location,e=c.href;return b[0]=e,e=g.setQueryString.apply(null,b),c.href=e,e},hasQueryString:function(a){var b="object"==typeof a?a.location.href:a,c=d.toArray(arguments);return c[0]=b,g.hasQueryString.apply(null,c)},getHash:function(a){var b="object"==typeof a?a.location.href:a,c=d.toArray(arguments);return c[0]=b,g.getHash.apply(null,c)},setHash:function(a){var b=d.toArray(arguments);if("string"==typeof a)return b[0]=a,g.setHash.apply(null,b);var c=a.location,e=c.href;b[0]=e,e=g.setHash.apply(null,b);var f=g.getHash(e,"");return f=escape(f),c.hash=f,c.href},hasHash:function(a){var b="object"==typeof a?a.location.href:a,c=d.toArray(arguments);return c[0]=b,g.hasHash.apply(null,c)},hashchange:function(b,d,e){var f=a("Event");f.bind(b,i,d);var g=(b.location,c.getHash(b,""));g&&e&&d.call(b,g,null),h.get(b)||("onhashchange"in b?b.onhashchange=function(){var a=g;g=c.getHash(b,""),f.trigger(b,i,[g,a])}:m(function(){var a=g;g=c.getHash(b,""),g!=a&&f.trigger(b,i,[g,a])},200),h.set(b,!0))},route:function(b,d){var e=a("Object");e.isPlain(d)||(d=e.make(d,arguments[2])),c.hashchange(b,function(a,c){var e=d[a];e&&e.call(b,a,c)})}}}),B("Url",function(a,b){var c=a("$"),d=a("excore/Url"),e=a("browser/Url");b.exports=c.extend({},d,e)}),B("MiniQuery",function(b,c,d){var e=b("$");c.exports=d={Array:b("Array"),Boolean:b("Boolean"),Date:b("Date"),Function:b("Function"),Math:b("Math"),Object:b("Object"),String:b("String"),Event:b("Event"),Mapper:b("Mapper"),Url:b("Url"),LocalStorage:b("LocalStorage"),SessionStorage:b("SessionStorage"),Script:b("Script"),use:function(b,c){if(!(b in a)||c)return void(a[b]=d);var e=a[b];for(var f in d)f in e||(e[f]=d[f])},require:e.require}}),A.expose({Array:!0,Boolean:!0,Date:!0,Function:!0,Math:!0,Object:!0,String:!0,Event:!0,Mapper:!0,Module:!0,Url:!0,Cookie:!0,LocalStorage:!0,SessionStorage:!0,Script:!0}),function(b){"function"==typeof b&&(b.amd||b.cmd)?b(function(a){return a("MiniQuery")}):a.MiniQuery=C("MiniQuery")}(a.define)}(this,top,parent,window,document,location,navigator,window.localStorage,window.sessionStorage,window.console,history,setTimeout,setInterval,window.JSON,Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String);