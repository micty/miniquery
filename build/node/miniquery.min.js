!function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=function(){function a(a,b){for(var c in a)if(a[c].factory===b)return c}function b(){var a=h.random().toString().slice(2);this[c]=a;var b={id$module:{}};d[a]=b}var c="__guid__",d={};return b.prototype={constructor:b,define:function(a,b){var e=this[c],f=d[e],g=f.id$module;g[a]={factory:b,exports:null,required:!1,exposed:!1}},require:function(b){var e=this[c],g=d[e],h=g.id$module;if(0==b.indexOf("/")){var i=a(h,arguments.callee.caller);if(!i)throw new f('require 时如果指定了以 "/" 开头的短名称，则必须用在 define 的函数体内');b=i+b}var j=h[b];if(j){if(j.required)return j.exports;j.required=!0;var k=j.factory;if("function"!=typeof k)return j.exports=k,k;var l=arguments.callee.bind(this),m={},o={id:b,exports:m};return m=k(l,o,m),m===n&&(m=o.exports),j.exports=m,m}},expose:function(a,b){function e(a){var b=i[a];if(b)return b.exposed}function f(a,b){var c=i[a];c&&(c.exposed=!!b)}var g=this[c],h=d[g],i=h.id$module;if("object"!=typeof a)return 2==arguments.length?void f(a,b):e(a);var j=a;for(var a in j){var b=j[a];f(a,b)}},destroy:function(){var a=this[c];delete this[c],delete d[a]}},b}(),p=new o,q=p.define.bind(p),r=p.require.bind(p),s=p.expose.bind(p);q("$",function(a,b,d){var e=[].slice,f=e.call.bind?e.call.bind(e):function(a){return e.call(a,0)};b.exports=d={expando:"MiniQuery-"+h.random().toString().slice(2),toArray:f,extend:function(a,b,c){if(b&&"object"==typeof b)for(var d in b)a[d]=b[d];if(c&&"object"==typeof c)for(var d in c)a[d]=c[d];var e=3,f=arguments.length;if(e>=f)return a;for(var g=e;f>g;g++){var h=arguments[g];for(var i in h)a[i]=h[i]}return a},concat:function(){for(var a=[],b=f(arguments),d=0,e=b.length;e>d;d++){var g=b[d];g instanceof c||(g=f(g)),a=a.concat(g)}return a},require:function(b){return s(b)?a(b):null}}}),q("Array",function(a,b,d){var e=a("$");b.exports=d={concat:e.concat,each:function(a,b,d){for(var e=arguments.callee,f=0,g=a.length;g>f;f++){var h=a[f];if(d&&h instanceof c)e(h,b,!0);else{var i=b(h,f);if(i===!1)break}}return a},parse:function(a,b){if(a instanceof c)return a;var d=[];if(b===!0){for(var f in a)"length"!==f&&d.push(a[f]);return d}if(!a||!a.length)return[];try{d=e.toArray(a)}catch(g){for(var h=0,i=a.length;i>h;h++)d.push(a[h])}return d},toObject:function(b,d){var e=a("Object");if(!b||!e.isArray(b))return null;var g={};if(d===n){var h=b.length;g.length=h;for(var i=0;h>i;i++)g[i]=b[i];return g}if(e.isArray(d)){for(var j=0,h=d.length,i=0;h>i;i++){var k=d[i];k in g||(g[k]=b[i],j++)}return g.length=j,g}if(e.isPlain(d)){var h=0;for(var k in d)g[k]=b[d[k]],h++;return g.length=h,g}if("function"==typeof d){for(var h=b.length,i=0;h>i;i++){var l=d(b[i],i);if(l instanceof c){var k=l[0],m=l[1];g[k]=m}else{if(!e.isPlain(l))throw new f("处理函数 maps 返回结果的格式不可识别");for(var k in l){g[k]=l[k];break}}}return g.length=h,g}return g},map:function(a,b,d){for(var e,f=arguments.callee,g=[],h=0,i=a.length;i>h;h++){var j=a[h];if(d&&j instanceof c)e=f(j,b,!0);else{if(e=b(j,h),null===e)continue;if(e===n)break}g.push(e)}return g},keep:function(a,b,d){for(var e=arguments.callee,f=[],g=0,h=a.length;h>g;g++){var i=a[g],j=d&&i instanceof c?e(i,b,!0):b(i,g);f.push(j)}return f},grep:function(a,b,d){for(var e=arguments.callee,f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(d&&i instanceof c)i=e(i,b,!0),f.push(i);else{var j=b(i,g);j===!0&&f.push(i)}}return f},indexOf:function(a,b){if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},contains:function(a,b){return d.indexOf(a,b)>-1},remove:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];f!==b&&c.push(f)}return c},removeAt:function(a,b){var c=a.slice(0);return c.splice(b,1),c},reverse:function(a){for(var b=[],c=a.length-1;c>=0;c--)b.push(a[c]);return b},merge:function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=arguments[b];d!==n&&(a=a.concat(d))}return a},mergeUnique:function(){for(var a=[],b=arguments.length,c=d.contains,e=0;b>e;e++)for(var f=arguments[e],g=f.length,h=0;g>h;h++)c(a,f[h])||a.push(f[h]);return a},unique:function(a){return d.mergeUnique(a)},toggle:function(a,b){if(d.contains(a,b))return d.remove(a,b);var c=a.slice(0);return c.push(b),c},find:function(a,b,c){return d.findIndex(a,b,c)>-1},findIndex:function(a,b,c){c=c||0;for(var d=c,e=a.length;e>d;d++)if(b(a[d],d)===!0)return d;return-1},findItem:function(a,b,c){c=c||0;for(var d=c,e=a.length;e>d;d++){var f=a[d];if(b(f,d)===!0)return f}return null},random:function(a){for(var b=a.slice(0),c=0,d=b.length;d>c;c++){var e=parseInt(h.random()*c),f=b[c];b[c]=b[e],b[e]=f}return b},randomItem:function(b){var c=a("Math"),d=b.length;if(1>d)return n;var e=c.randomInt(0,d-1);return b[e]},get:function(a,b){var c=a.length;if(b>=0&&c>b)return a[b];var d=b+c;return 0>b&&d>=0?a[d]:null==b?a.slice(0):void 0},trim:function(a){return d.map(a,function(a){return null==a?null:a})},group:function(a,b,c){var e=d.slide(a,b,b);return c===!0&&(e[e.length-1]=a.slice(-b)),e},slide:function(a,b,c){if(b>=a.length)return[a];c=c||1;for(var d=[],e=0,f=a.length;f>e;e+=c){var g=e+b;if(d.push(a.slice(e,g)),g>=f)break}return d},circleSlice:function(a,b,c){var d=a.slice(b,b+c),e=[],f=c-d.length;return f>0&&(e=a.slice(0,f)),d.concat(e)},circleSlide:function(a,b,c){if(a.length<b)return[a];c=c||1;for(var e=[],f=d.circleSlice,g=0,h=a.length;h>g;g+=c)e.push(f(a,g,b));return e},sum:function(a,b,c){for(var d=0,e=!(c===n),g=0,h=a.length;h>g;g++){var j=e?a[g][c]:a[g];if(isNaN(j)){if(b===!0)continue;throw new f("第 "+g+" 个元素的值为 NaN")}d+=i(j)}return d},max:function(a,b,c){for(var d=0,e=!(c===n),g=0,h=a.length;h>g;g++){var j=e?a[g][c]:a[g];if(isNaN(j)){if(b===!0)continue;throw new f("第 "+g+" 个元素的值为 NaN")}j=i(j),j>d&&(d=j)}return d},hasItem:function(b){var c=a("Object");return c.isArray(b)&&b.length>0},reduceDimension:function(a,b){b=b||1;for(var d=a,e=c.prototype.concat,f=0;b>f;f++)d=e.apply([],d);return d},descartes:function(a,b){function c(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)for(var g=0,h=b.length;h>g;g++){var i=[];c?(i=i.concat(a[e]),i.push(b[g])):(i[0]=a[e],i[1]=b[g]),d.push(i)}return d}for(var d=c(a,b),e=2,f=arguments.length;f>e;e++)d=c(d,arguments[e],!0);return d},divideDescartes:function(a,b){for(var c=a.length,d=[],e=0,f=b.length;f>e;e++){for(var g=b[e],h=c/g,i=[],j=0;g>j;j++)i.push(a[j*h][e]);c=h,d[e]=i}return d},transpose:function(a){for(var b=a,c=[],d=b.length,e=1,f=0;e>f;f++){for(var g=[],h=0;d>h;h++)b[h].length>e&&(e=b[h].length),g.push(b[h][f]);c[f]=g}return c},intersection:function(a){function b(a,b){for(var c=[],e=0,f=a.length;f>e;e++)for(var g=a[e],h=0,i=b.length;i>h;h++)if(g===b[h]){c.push(g);break}return d.unique(c)}for(var c=a,e=1,f=arguments.length;f>e;e++)c=b(c,arguments[e]);return c},equals:function(a,b,d){if(!(a instanceof c&&b instanceof c&&a.length==b.length))return!1;d=d||function(a,b){return a===b};for(var e=0,f=a.length;f>e;e++)if(!d(a[e],b[e]))return!1;return!0},isContained:function(a,b){return d.intersection(a,b).length==a.length},padLeft:function(a,b,c){var d=b-a.length;if(0>=d)return a.slice(-d);for(var e=[],f=0;d>f;f++)e.push(c);return e=e.concat(a)},padRight:function(a,b,c){var d=b-a.length;if(0>=d)return a.slice(0,b);for(var e=a.slice(0),f=0;d>f;f++)e.push(c);return e},pad:function(a,b,c,d){if(a==b)return[];"function"==typeof c?(d=c,c=1):c=h.abs(c||1);var e=[],f=0;if(b>a)for(var g=a;b>g;g+=c){var i=d?d(g,f):g;e.push(i),f++}else for(var g=a;g>b;g-=c){var i=d?d(g,f):g;e.push(i),f++}return e},aggregate:function(a,b,c){for(var d="string"==typeof b,e="function"==typeof c,f={},g=0,h=a.length;h>g;g++){var i=a[g],j=d?i[b]:b(i,g);f[j]||(f[j]=[]);var k=i;if(e){if(k=c(i,g),null===k)continue;if(k===n)break}f[j].push(k)}return f},add:function(a,b){var c=a.slice(0);return c.push(b),c},count:function(a,b){if(arguments.length<2)return a.length;if("function"!=typeof b){var c=b;b=function(a){return a===c}}var e=d.grep(a,b);return e.length}}}),q("Boolean",function(a,b,c){b.exports=c={parse:function(a){if(!a)return!1;if("string"==typeof a||a instanceof l){var b=/^(false|null|undefined|0|NaN)$/g;return!b.test(a)}return!0},toInt:function(a){return c.parse(a)?1:0},reverse:function(a){return!c.parse(a)},random:function(){return!!h.floor(2*h.random())}}}),q("Date",function(a,b,c){function d(a){var b=(new e,a.indexOf(".")>0?".":a.indexOf("-")>0?"-":a.indexOf("/")>0?"/":a.indexOf("_")>0?"_":null);if(!b)return null;var c=a.split(b);return{yyyy:c[0],MM:c[1]||0,dd:c[2]||1}}function f(a){var b=a.indexOf(":")>0?":":null;if(!b)return null;var c=a.split(b);return{HH:c[0]||0,mm:c[1]||0,ss:c[2]||0}}b.exports=c={now:function(){return new e},parse:function(a){if(a instanceof e)return isNaN(a.getTime())?null:a;if("string"!=typeof a)return null;var b=new e(a);if(!isNaN(b.getTime()))return b;var c=a.split(" "),g=c[0];if(!g)return null;var b=g.indexOf(":")>0?null:g,h=b?c[1]||null:b;if(!b&&!h)return null;if(b&&h){var i=d(b),j=f(h);return new e(i.yyyy,i.MM-1,i.dd,j.HH,j.mm,j.ss)}if(b){var i=d(b);return new e(i.yyyy,i.MM-1,i.dd)}if(h){var k=new e,j=f(h);return new e(k.getFullYear(),k.getMonth(),k.getDate(),j.HH,j.mm,j.ss)}},format:function(b,c){for(var d=a("String"),e=b.getFullYear(),f=b.getMonth()+1,g=b.getDate(),h=b.getHours(),i=b.getMinutes(),j=b.getSeconds(),k=function(a,b){return d.padLeft(a,b,"0")},m=12>=h,n=[["yyyy",k(e,4)],["yy",l(e).slice(2)],["MM",k(f,2)],["M",f],["dddd","星期"+"日一二三四五六".charAt(b.getDay())],["dd",k(g,2)],["d",g],["HH",k(h,2)],["H",h],["hh",k(m?h:h-12,2)],["h",m?h:h-12],["mm",k(i,2)],["m",i],["ss",k(j,2)],["s",j],["tt",m?"AM":"PM"],["t",m?"A":"P"],["TT",m?"上午":"下午"],["T",m?"上":"下"]],o=c,p=d.replaceAll,q=0,r=n.length;r>q;q++){var s=n[q];o=p(o,s[0],s[1])}return o},addYears:function(a,b){return b=12*b,c.addMonths(a,b)},addMonths:function(a,b){var c=new e(a);return c.setMonth(a.getMonth()+b),c},addWeeks:function(a,b){return b=7*b,c.addDays(a,b)},addDays:function(a,b){var c=new e(a);return c.setDate(a.getDate()+b),c},addHours:function(a,b){var c=new e(a);return c.setHours(a.getHours()+b),c},addMinutes:function(a,b){var c=new e(a);return c.setMinutes(a.getMinutes()+b),c},addSeconds:function(a,b){var c=new e(a);return c.setSeconds(a.getSeconds()+b),c},addMilliseconds:function(a,b){var c=new e(a);return c.setMilliseconds(a.getMilliseconds()+b),c}}}),q("Math",function(a,b,c){b.exports=c={randomInt:function(a,b){var c=arguments.length;if(0==c)return i(l(h.random()).replace(".","").replace(/^0*/g,""));1==c&&(b=a,a=0);var d=b-a+1;return h.floor(h.random()*d+a)},slide:function(a,b,c){return c=c||1,a+=c,a>=0?a%b:(b-h.abs(a)%b)%b},next:function(a,b){return c.slide(a,b,1)},previous:function(a,b){return c.slide(a,b,-1)},parseInt:function(a){return parseInt(a,10)},parsePercent:function(b){if("string"!=typeof b)return b;var c=a("String"),d=c.trim(b);return"%"!=d.slide(-1)?b:parseFloat(d)/100}}}),q("Object",function(b,h,m){var o=b("$");h.exports=m={extend:o.extend,extendSafely:function(){var a=arguments.length;if(0==a)return null;var b=arguments[0];if(1==a)return b;for(var c=1;a>c;c++){var d=arguments[c];for(var e in d)e in b||(b[e]=d[e])}return b},extendDeeply:function(a,b,c){function d(a,b){a=a||{};for(var c in b){var e=b[c];m.isPlain(e)&&(e=d(a[c],e)),a[c]=e}return a}b&&"object"==typeof b&&(a=d(a,b)),c&&"object"==typeof c&&(a=d(a,c));var e=3,f=arguments.length;if(e>=f)return a;for(var g=e;f>g;g++){var h=arguments[g];a=d(a,h)}return a},clone:function(a){{var c=b("Array"),d=arguments.callee;MiniQuery}if(m.isArray(a))return c.keep(a,function(a){return a&&!m.isValueType(a)&&m.isPlain(a)?d(a):a});if(!a||m.isValueType(a)||!m.isPlain(a))return a;var e={};for(var f in a){var g=a[f];switch(typeof g){case"string":case"number":case"boolean":case"function":case"undefined":e[f]=g;break;case"object":e[f]=d(g)}}return e},each:function(a,b,c){var d=arguments.callee;for(var e in a){var f=a[e];if(b(e,f)===!1)break;c===!0&&f&&"object"==typeof f&&d(f,b,!0)}},getType:function(a){return null===a?"null":a===n?"undefined":"string"==typeof a?"string":"number"==typeof a?"number":"boolean"==typeof a?"boolean":{}.toString.call(a).slice(8,-1)},isArray:function(a,b){return b===!0?a instanceof c:"function"==typeof c.isArray?c.isArray(a):a instanceof c||"Array"==m.getType(a)},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isFunction:function(a){return"function"==typeof a},isBuiltinType:function(a){for(var b=[l,i,d,c,e,k,g],f=0,h=b.length;h>f;f++)if(a instanceof b[f])return!0;return!1},isEmpty:function(a){for(var b in a)return!1;return!0},isPlain:function(a){if(!a||"object"!=typeof a)return!1;var b=j.prototype.hasOwnProperty,c=a.constructor;try{if(c&&!b.call(a,"constructor")&&!b.call(c.prototype,"isPrototypeOf"))return!1}catch(d){return!1}var e;for(e in a);return e===n||b.call(a,e)},isValueType:function(a){var b=typeof a;return"string"==b||"number"==b||"boolean"==b},isWrappedType:function(a){for(var b=[l,i,d],c=0,e=b.length;e>c;c++)if(a instanceof b[c])return!0;return!1},isNonNull:function(a){if(!a)return!1;var b=typeof a;return"object"==b||"function"==b},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isDocument:function(a){return a&&"object"==typeof a&&"getElementById"in a},map:function(a,b,c){var d=arguments.callee,e=m.isPlain,f={};for(var g in a){var h=a[g];f[g]=c&&e(h)?d(h,b,c):b(g,h)}return f},namespace:function(c,d,e){function g(a,b,c){for(var d=b.split("."),e=a,f=d.length,g=f-1,h=c===n,i=0;f>i;i++){var j=d[i];if(h&&!(j in e))return;if(g>i)e[j]=e[j]||{},e=e[j];else{if(c===n)return e[j];e[j]=c}}return c}if("string"==typeof d){var h=c,i=d,j=e;return g(h,i,j)}if("string"==typeof c){var h=a,i=c,j=d;return g(h,i,j)}if(m.isPlain(d)&&e===n){var k=c,l=d,h=a;return m.each(l,function(a,b){if("string"!=typeof b)throw new f("当指定第二个参数为键值对映射表时，值必须为 string 类型");var c=k[a];g(h,b,c)}),h}if(m.isArray(e)){var o=b("Array"),h=c,k=d,p=e;return o.each(p,function(a){h[a]=k[a]}),h}},parseJson:function(c){if("string"!=typeof c||!c)return null;var d=b("String");if(c=d.trim(c),a.JSON&&a.JSON.parse)return a.JSON.parse(c);var e=/^[\],:{}\s]*$/,h=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,j=/(?:^|:|,)(?:\s*\[)+/g;if(c=c.replace(h,"@").replace(i,"]").replace(j,""),!e.test(c))throw new f("非法的 JSON 数据: "+c);return new g("return "+c)()},parseQueryString:function(a,d,e){if(!a||"string"!=typeof a)return{};for(var f=b("String"),g=arguments.callee,h=e?unescape:decodeURIComponent,i=!d,j=f.toValue,k={},l=a.split("&"),m=0,n=l.length;n>m;m++){var o=l[m].split("="),p=h(o[0]),q=o.length>1?h(o[1]):"";if(q=i&&q.indexOf("=")>0?g(q):j(q),p in k){var r=k[p];r instanceof c?r.push(q):k[p]=[r,q]}else k[p]=q}return k},remove:function(a,b){var c=m.extend({},a);if("string"==typeof b)delete c[b];else if(m.isArray(b))for(var d=0,e=b.length;e>d;d++)delete c[b[d]];else for(var f in b)delete c[f];return c},replaceValues:function(a,b,c){for(var d in a){var e=a[d];switch(typeof e){case"string":case"number":case"boolean":for(var f in b)if(d==f){a[d]=b[f];break}break;case"object":!c&&arguments.callee(e,b)}}return a},toArray:function(a,b,d){var e=arguments.callee;if(!b)return m.getValues(a,d);if(b instanceof c){for(var f=b,g=[],h=0,i=f.length;i>h;h++){var j=a[f[h]];g.push(j)}return g}if(b===!0){var g=[];for(var k in a){var j=a[k];d===!0&&j&&"object"==typeof j&&(j=e(j,b,d)),g.push([k,j])}return g}if("function"==typeof b){var l=b,g=[];for(var k in a){var j=a[k];if(j=d===!0&&j&&"object"==typeof j?e(j,b,d):l(k,j),null!==j){if(j===n)break;g.push(j)}}return g}},toJson:function(b){if(a.JSON){var c=function(b){return a.JSON.stringify(b)};return m.toJson=c,c(b)}if(null==b)return l(b);switch(typeof b){case"string":return'"'+b+'"';case"number":case"boolean":return b;case"function":return b.toString()}if(b instanceof l||b instanceof i||b instanceof d||b instanceof e)return arguments.callee(b.valueOf());if(b instanceof k)return arguments.callee(b.toString());if(m.isArray(b)){for(var f=[],g=0,h=b.length;h>g;g++)f.push(arguments.callee(b[g]));return"["+f.join(", ")+"]"}var j=[];for(var n in b)j.push('"'+n+'": '+arguments.callee(b[n]));return"{ "+j.join(", ")+" }"},toQueryString:function(a,b){if(null==a)return l(a);switch(typeof a){case"string":case"number":case"boolean":return a}if(a instanceof l||a instanceof i||a instanceof d||a instanceof e)return a.valueOf();if(m.isArray(a))return"["+a.join(", ")+"]";var c=arguments.callee,f=b?escape:encodeURIComponent,g=[];for(var h in a)g.push(f(h)+"="+f(c(a[h])));return g.join("&")},trim:function(a,c,d){if(!c&&!d){var e={};for(var f in a){var g=a[f];null!=g&&(e[f]=g)}return e}var h=b("Array"),i=arguments.callee,j=h.contains,k=m.extend;"boolean"==typeof c&&(d=c,c=n),c||(c=[null,n]);var e=k({},a);for(var f in e){var g=e[f];j(c,g)?delete e[f]:d===!0&&"object"==typeof g&&g&&(g=k({},g),e[f]=i(g,c,!0))}return e},create:function(a){var b=j.create;return"function"!=typeof b&&(b=function(a){function b(){}return b.prototype=a,b.prototype.constructor=b,new b}),m.create=b,b(a)},filter:function(a,c){var d=b("Array"),e={};if(m.isArray(c))d.each(c,function(b){b in a&&(e[b]=a[b])});else if(m.isPlain(c))m.each(c,function(b){b in a&&(e[b]=a[b])});else{if("string"!=typeof c)throw new f("无法识别参数 samples 的类型");var g=c;g in a&&(e[g]=a[g])}return e},filterTo:function(a,b,c){var d=m.filter(b,c);return m.extend(a,d)},grep:function(a,b){var c={};for(var d in a){var e=a[d];b(d,e)===!0&&(c[d]=e)}return c},find:function(a,b,c){var d=!1;return m.each(a,function(a,c){return b(a,c)===!0?(d=!0,!1):void 0},c),d},findItem:function(a,b,c){var d=[];return m.each(a,function(a,c){return b(a,c)===!0?(d=[a,c],!1):void 0},c),d},findKey:function(a,b,c){var d=m.findItem(a,b,c);return d[0]},findValue:function(a,b,c){var d=m.findItem(a,b,c);return d[1]},get:function(a,b,c){return a&&b in a?a[b]:c},set:function(a,b,c){return a[b]=c,a},make:function(a,c){var d=b("Array"),e={};return m.isArray(a)?d.each(arguments,function(a){e[a[0]]=a[1]}):e[a]=c,e},getKeys:function(a,b){var c=arguments.callee,d=[];for(var e in a){var f=a[e];b===!0&&"object"==typeof f&&null!==f&&(e=c(f,b)),d.push(e)}return d},getValues:function(a,b){var c=arguments.callee,d=[];for(var e in a){var f=a[e];b===!0&&"object"==typeof f&&null!==f&&(f=c(f,b)),d.push(f)}return d},getItems:function(a,b){return m.toArray(a,!0,b)},join:function(a,b,c){b=b||"=",c=c||"&";var d=[];for(var e in a)d.push(e+b+a[e]);return d.join(c)},overwrite:function(a,b){for(var c in a)delete a[c];return m.extend(a,b)},linearize:function(a){function b(a,f){for(var g in a){var h=a[g];e=e.slice(0,f),e.push(g),c(h)?b(h,f+1):d.push({keys:e,value:h})}}var c=m.isPlain,d=[];if(!a||!c(a))return d;var e=[];return b(a,0),d}}}),q("core/String",function(a,b,c){b.exports=c={format:function(a,b){var d=a,e=c.replaceAll;if("object"==typeof b)for(var f in b)d=e(d,"{"+f+"}",b[f]);else for(var g=[].slice.call(arguments,1),h=0,i=g.length;i>h;h++)d=e(d,"{"+h+"}",g[h]);return d},replaceAll:function(a,b,c){return a.split(b).join(c)},replaceBetween:function(a,b,c,d){var e=a.indexOf(b);if(0>e)return a;var f=a.indexOf(c);if(0>f)return a;var g=a.slice(0,e),h=a.slice(f+c.length);return g+d+h},removeAll:function(b,d){var e=a("Object"),f=a("Array"),g=c.replaceAll;return e.isArray(d)?(f.each(d,function(a){b=g(b,a,"")}),b):g(b,d,"")},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},trimStart:function(a){return a.replace(/(^\s*)/g,"")},trimEnd:function(a){return a.replace(/(\s*$)/g,"")},padLeft:function(a,b,c){a=l(a);var d=a.length;if(d>=b)return a.substr(-b);c=c||" ";var e=[];return e.length=b-d+1,e.join(c)+a},padRight:function(a,b,c){a=l(a);var d=a.length;if(d>=b)return a.substring(0,b);c=c||" ";var e=[];return e.length=b-d+1,a+e.join(c)},between:function(a,b,c){var d=a.indexOf(b);if(0>d)return"";d+=b.length;var e=a.indexOf(c,d);return 0>e?"":a.substr(d,e-d)},random:function(a){if(a===n&&(a=12),"number"==typeof a){var b=a+1;0>b&&(b=0),a=[],a.length=b,a=a.join("x")}return a.replace(/x/g,function(){var a=16*h.random()|0;return a.toString(16)}).toUpperCase()},startsWith:function(a,b,c){if(c){var d=a.substring(0,b.length);return d.toUpperCase()===b.toString().toUpperCase()}return 0==a.indexOf(b)},endsWith:function(a,b,c){var d=a.length,e=b.length,f=d-e;if(c){var g=a.substring(f,d);return g.toUpperCase()===b.toString().toUpperCase()}return a.lastIndexOf(b)==f},contains:function(b,c,d){var e=a("Object"),f=a("Array");if(b=l(b),e.isArray(c)){var g;return d===!0?(g=!1,f.each(c,function(a){return g=b.indexOf(a)>-1,g?!1:void 0})):(g=!0,f.each(c,function(a){return g=b.indexOf(a)>-1,g?void 0:!1})),g}return b.indexOf(c)>-1},toCamelCase:function(a){var b=/^-ms-/,c=/-([a-z]|[0-9])/gi;return a.replace(b,"ms-").replace(c,function(a,b){return b.toString().toUpperCase()})},toHyphenate:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},toUtf8:function(b){var c=a("Array"),d=[];return c.each(b.split(""),function(a){var b=a.charCodeAt(0);128>b?d.push(b):2048>b?(d.push((1984&b)>>6|192),d.push(63&b|128)):(d.push((61440&b)>>12|224),d.push((4032&b)>>6|128),d.push(63&b|128))}),"%"+c.keep(d,function(a){return a.toString(16)}).join("%")},toValue:function(a){if("string"!=typeof a)return a;var b={"true":!0,"false":!1,"null":null,undefined:n,NaN:0/0};return a in b?b[a]:a},split:function(b,c){function d(a,b,c){return c--,e.map(a,function(a){return 0==c?l(a).split(b):d(a,b,c)})}for(var e=a("Array"),f=l(b).split(c[0]),g=1,h=c.length;h>g;g++)f=d(f,c[g],g);return f},slide:function(b,c,d){var e=a("Array"),f=l(b).split("");return f=e.slide(f,c,d),e.keep(f,function(a){return a.join("")})},segment:function(a,b){return c.slide(a,b,b)},getTemplates:function(b,d){var e=a("Array"),f=d[0],g=c.between,h=c.replaceBetween,i={},j=g(b,f.begin,f.end);e.each(d.slice(1).reverse(),function(a,b){var c=a.name||b,d=a.begin,e=a.end,f=a.fn,k=g(j,d,e);"outer"in a&&(j=h(j,d,e,a.outer)),f&&(k=f(k,a)),i[c]=k});var k=f.fn;return k&&(j=k(j,f)),i[f.name]=j,i},getByteLength:function(a){return a?a.toString().replace(/[\u0100-\uffff]/g,"  ").length:0}}}),q("String",function(a,b){b.exports=a("core/String")}),q("Emitter/Tree",function(a,b,c){var d=a("Array");b.exports=c={add:function(a,b,c){var e=b.length-1;d.each(b,function(b,d){var f=a[b];f||(f=a[b]={list:[],tree:{}}),e>d?a=f.tree:f.list.push(c)})},getNode:function(a,b){for(var c=b.length-1,d=0;c>=d;d++){var e=b[d],f=a[e];if(!f||d==c)return f;a=f.tree}},getList:function(a,b){var d=c.getNode(a,b);return d?d.list:null}}}),q("Emitter",function(a,b){function d(a,b,c){var d=o.get(this),e=d.all;if("string"==typeof b&&"function"==typeof c)return void m.add(e,[b],{fn:c,isOneOff:a});var g=h.toArray(arguments).slice(1),k=i.findIndex(g,function(a){return"object"==typeof a});if(k>=0){var l=g[k],n=g.slice(0,k),p=j.linearize(l);return void i.each(p,function(b){var c=n.concat(b.keys);m.add(e,c,{fn:b.value,isOneOff:a})})}var k=i.findIndex(g,function(a){return"function"==typeof a});if(0>k)throw new f("参数中必须指定一个回调函数");c=g[k];var n=g.slice(0,k);m.add(e,n,{fn:c,isOneOff:a})}function e(a){function b(c){if(!("stop"in a))return b=function(){return!1},!1;var d=a.stop;return"function"==typeof d?(b=d,d(c)===!0):(b=function(a){return a.slice(-1)[0]===d},c.slice(-1)[0]===d)}var c=a.names;if(!c||0==c.length)throw new f("必须至少指定一个事件名称。");var d=o.get(this),e=d.all,g=m.getList(e,c);if(!g||0==g.length)return[];for(var h=g.slice(0),j=[],k=h.length,l=d.context||null,n=a.args||[],p=0;k>p;p++){var q=h[p];if(q.isOneOff){var r=i.indexOf(g,q);r>=0&&g.splice(r,1)}var s=q.fn.apply(l,n);if(j.push(s),b(j)===!0)break}return j}function g(a){var b="Emitter-"+k.random();l.setGuid(this,b);var c={context:a,all:{}};o.set(this,c)}var h=a("$"),i=a("Array"),j=a("Object"),k=a("String"),l=a("Mapper"),m=a("/Tree"),o=new l;g.prototype={constructor:g,on:function(){var a=h.toArray(arguments);a=[!1].concat(a),d.apply(this,a)},one:function(){var a=h.toArray(arguments);a=[!0].concat(a),d.apply(this,a)},off:function(a,b){var c=o.get(this),d=c.all;if(a===n)return void(c.all={});var e=h.toArray(arguments),f=i.findIndex(e,function(a){return"function"==typeof a});0>f&&(f=e.length),b=e[f];var g=e.slice(0,f),j=m.getNode(d,g);if(j){var k=j.list;0!=k.length&&(b?j.list=i.grep(k,function(a){return a.fn!==b}):k.length=0)}},fire:function(a){if("object"==typeof a)return e.apply(this,[a]);var b=h.toArray(arguments),d=i.findIndex(b,function(a){return a instanceof c});return 0>d&&(d=b.length),e.apply(this,[{names:b.slice(0,d),args:b[d]}])},has:function(a,b){var c=o.get(this),d=c.all;if(0==arguments.length)return!j.isEmpty(d);var e=h.toArray(arguments),f=i.findIndex(e,function(a){return"function"==typeof a});0>f&&(f=e.length),b=e[f];var g=e.slice(0,f),k=m.getList(d,g);return k&&0!=k.length?b?i.find(k,function(a){return a.fn===b}):!0:!1}},b.exports=g}),q("Mapper",function(a,b){function c(b){if("function"==typeof b){var c=[];if("name"in b&&c.push(b.name),"length"in b&&c.push(b.length),c.length>0)return c.join("#")}var d=a("Object");return d.getType(b)}function d(){var a=f.random();this[h]=a,i[a]={guid:{},"false":{},string:{},number:{},"boolean":{},object:{},"function":{},undefined:{}}}var e=a("$"),f=a("String"),g=a("Array"),h="__guid-"+f.random(),i={};d.prototype={constructor:d,set:function(a,b){var d=this[h],e=i[d],f=typeof a;if(a&&"object"==f&&h in a){var d=a[h];return e.guid[d]=b,b}if(!a)return e["false"][l(a)]=b,b;if(/^(string|number|boolean)$/g.test(f))return e[f][l(a)]=b,b;var j=e[f];a=c(a);var k=j[a];if(!k)return j[a]=[[a,b]],b;var m=g.findItem(k,function(b){return b[0]===a});return m?m[1]=b:k.push([a,b]),b},get:function(a){var b=this[h],d=i[b],e=typeof a;if(a&&"object"==e&&h in a){var b=a[h];return d.guid[b]}if(!a)return d["false"][l(a)];if(/^(string|number|boolean)$/g.test(e))return d[e][l(a)];a=c(a);var f=d[e][a];if(f){var j=g.findItem(f,function(b){return b[0]===a});return j?j[1]:n}},remove:function(a){var b=this[h],d=i[b],e=typeof a;if(a&&"object"==e&&h in a){var b=a[h];return void delete d.guid[b]}if(!a)return void delete d["false"][l(a)];if(/^(string|number|boolean)$/g.test(e))return void delete d[e][l(a)];var f=d[e];a=c(a);var j=f[a];j&&(f[a]=g.grep(j,function(b){return b[0]!==a}))},destroy:function(){var a=this[h];delete i[a],delete this[h]}},e.extend(d,{getGuidKey:function(){return h},setGuid:function(a,b){return b===n&&(b="default-"+f.random()),a[h]=b,b},getGuid:function(a){return a[h]}}),b.exports=d}),q("ModuleA",function(a,b){var c=a("$"),d=new o;b.exports=c.extend(o,{define:d.define.bind(d),require:d.require.bind(d)})}),q("excore/Url",function(a,b,c){b.exports=c={getQueryString:function(b,c,d){var e=b.indexOf("?");if(!(0>e)){var f=b.indexOf("#");0>f&&(f=b.length);var g=b.slice(e+1,f);if(""===c)return decodeURIComponent(g);var h=a("Object"),i=h.parseQueryString(g);if(c===n)return i;if(!d||c in i)return i[c];c=c.toString().toLowerCase();for(var j in i)if(j.toLowerCase()==c)return i[j]}},addQueryString:function(b,d,e){var f=a("Object"),g=c.getQueryString(b)||{};"object"==typeof d?f.extend(g,d):g[d]=e;var h={};for(var d in g){var e=g[d];null!==e&&(h[d]=e)}return c.setQueryString(b,h)},randomQueryString:function(b,d){var e=a("String"),f=e.random(d);return c.addQueryString(b,f,"")},setQueryString:function(b,c,d){var e=a("Object"),f=typeof c,g=/^(string|number|boolean)$/.test(f),h="";if(2==arguments.length&&g)h=encodeURIComponent(c);else{var i="object"==f?c:e.make(c,d);h=e.toQueryString(i)}var j,k=b.indexOf("?")>-1,l=b.indexOf("#")>-1;return k&&l?(j=b.split(/\?|#/g),j[0]+"?"+h+"#"+j[2]):k?(j=b.split("?"),j[0]+"?"+h):l?(j=b.split("#"),j[0]+"?"+h+"#"+j[1]):b+"?"+h},hasQueryString:function(b,d,e){var f=c.getQueryString(b);if(!f)return!1;var g=a("Object");if(!d)return!g.isEmpty(f);if(d in f)return!0;if(e){d=d.toString().toLowerCase();for(var h in f)if(h.toLowerCase()==d)return!0}return!1},getHash:function(b,c,d){var e=b.indexOf("#");if(!(0>e)){var f=b.length,g=b.slice(e+1,f);if(g=unescape(g),""===c)return g;var h=a("Object"),i=h.parseQueryString(g);if(c===n)return i;if(!d||c in i)return i[c];c=c.toString().toLowerCase();for(var j in i)if(j.toLowerCase()==c)return i[j]}},setHash:function(b,c,d){var e=a("Object"),f=typeof c,g=/^(string|number|boolean)$/.test(f),h="";if(2==arguments.length&&g)h=l(c);else{var i="object"==f?c:e.make(c,d);h=e.toQueryString(i)}h=escape(h);var j=b.lastIndexOf("#");return j>-1&&(b=b.slice(0,j)),b+"#"+h},hasHash:function(b,d,e){var f=c.getHash(b);if(!f)return!1;var g=a("Object");if(!d)return!g.isEmpty(f);if(d in f)return!0;if(e){d=d.toString().toLowerCase();for(var h in f)if(h.toLowerCase()==d)return!0}return!1}}}),q("Url",function(a){return a("excore/Url")}),q("MiniQuery",function(a,b,c){var d=a("$");b.exports=c={Array:a("Array"),Boolean:a("Boolean"),Date:a("Date"),Math:a("Math"),Object:a("Object"),String:a("String"),require:d.require}}),s({Array:!0,Boolean:!0,Date:!0,Math:!0,Object:!0,String:!0,Emitter:!0,Mapper:!0,Module:!0,Url:!0}),b.exports=r("MiniQuery")}(global,module,Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String);