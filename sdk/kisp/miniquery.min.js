!function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z,A=o.prototype.slice,B=A.call.bind?A.call.bind(A):function(a){return A.call(a,0)},C=z={expando:"MiniQuery"+x(t.random()).replace(/\D/g,""),extend:function(a,b,c){if(b&&"object"==typeof b)for(var d in b)a[d]=b[d];if(c&&"object"==typeof c)for(var d in c)a[d]=c[d];var e=3,f=arguments.length;if(e>=f)return a;for(var g=e;f>g;g++){var h=arguments[g];for(var i in h)a[i]=h[i]}return a},toArray:B,concat:function(){for(var a=[],b=B(arguments),c=0,d=b.length;d>c;c++){var e=b[c];e instanceof o||(e=B(e)),a=a.concat(e)}return a}};C.Object=function(a){return new C.Object.prototype.init(a)},function(b,c){b.extend(c,{extend:b.extend,extendSafely:function(){var a=arguments.length;if(0==a)return null;var b=arguments[0];if(1==a)return b;for(var c=1;a>c;c++){var d=arguments[c];for(var e in d)e in b||(b[e]=d[e])}return b},extendDeeply:function(a,b,d){function e(a,b){a=a||{};for(var d in b){var f=b[d];c.isPlain(f)&&(f=e(a[d],f)),a[d]=f}return a}b&&"object"==typeof b&&(a=e(a,b)),d&&"object"==typeof d&&(a=e(a,d));var f=3,g=arguments.length;if(f>=g)return a;for(var h=f;g>h;h++){var i=arguments[h];a=e(a,i)}return a},clone:function(a){var b=arguments.callee,d=C;if(c.isArray(a))return d.Array.keep(a,function(a){return a&&!c.isValueType(a)&&c.isPlain(a)?b(a):a});if(!a||c.isValueType(a)||!c.isPlain(a))return a;var e={};for(var f in a){var g=a[f];switch(typeof g){case"string":case"number":case"boolean":case"function":case"undefined":e[f]=g;break;case"object":e[f]=b(g)}}return e},each:function(a,b,c){var d=arguments.callee;for(var e in a){var f=a[e];if(c===!0&&f&&"object"==typeof f)d(f,b,!0);else if(b(e,f)===!1)break}},getType:function(a){return null===a?"null":a===y?"undefined":"string"==typeof a?"string":"number"==typeof a?"number":"boolean"==typeof a?"boolean":v.prototype.toString.call(a).slice(8,-1)},isArray:function(a,b){return b===!0?a instanceof o:"function"==typeof o.isArray?o.isArray(a):a instanceof o||"Array"==c.getType(a)},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isFunction:function(a){return"function"==typeof a},isBuiltinType:function(a){for(var b=[x,u,p,o,q,w,s],c=0,d=b.length;d>c;c++)if(a instanceof b[c])return!0;return!1},isEmpty:function(a){for(var b in a)return!1;return!0},isPlain:function(a){if(!a||"object"!=typeof a)return!1;var b=v.prototype.hasOwnProperty,c=a.constructor;try{if(c&&!b.call(a,"constructor")&&!b.call(c.prototype,"isPrototypeOf"))return!1}catch(d){return!1}var e;for(e in a);return e===y||b.call(a,e)},isValueType:function(a){var b=typeof a;return"string"==b||"number"==b||"boolean"==b},isWrappedType:function(a){for(var b=[x,u,p],c=0,d=b.length;d>c;c++)if(a instanceof b[c])return!0;return!1},isNonNull:function(a){if(!a)return!1;var b=typeof a;return"object"==b||"function"==b},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isDocument:function(a){return a&&"object"==typeof a&&"getElementById"in a},map:function(a,b,d){var e=arguments.callee,f={};for(var g in a){var h=a[g];f[g]=d&&c.isPlain(h)?e(h,b,d):b(g,h)}return f},namespace:function(d,e,f){function g(a,b,c){for(var d=b.split("."),e=a,f=d.length,g=f-1,h=c===y,i=0;f>i;i++){var j=d[i];if(h&&!(j in e))return;if(g>i)e[j]=e[j]||{},e=e[j];else{if(c===y)return e[j];e[j]=c}}return c}if("string"==typeof e){var h=d,i=e,j=f;return g(h,i,j)}if("string"==typeof d){var h=a,i=d,j=e;return g(h,i,j)}if(c.isPlain(e)&&f===y){var k=d,l=e,h=a;return c.each(l,function(a,b){if("string"!=typeof b)throw new r("当指定第二个参数为键值对映射表时，值必须为 string 类型");var c=k[a];g(h,b,c)}),h}if(c.isArray(f)){var h=d,k=e,m=f;return b.Array.each(m,function(a){h[a]=k[a]}),h}},parseJson:function(c){if("string"!=typeof c||!c)return null;if(c=b.String.trim(c),a.JSON&&a.JSON.parse)return a.JSON.parse(c);var d=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,f=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g;if(c=c.replace(e,"@").replace(f,"]").replace(g,""),!d.test(c))throw new r("非法的 JSON 数据: "+c);return new s("return "+c)()},parseQueryString:function(a,c,d){if(!a||"string"!=typeof a)return{};for(var e=arguments.callee,f=d?unescape:decodeURIComponent,g=!c,h=b.String.toValue,i={},j=a.split("&"),k=0,l=j.length;l>k;k++){var m=j[k].split("="),n=f(m[0]),p=m.length>1?f(m[1]):"";if(p=g&&p.indexOf("=")>0?e(p):h(p),n in i){var q=i[n];q instanceof o?q.push(p):i[n]=[q,p]}else i[n]=p}return i},remove:function(a,b){var d=c.extend({},a);if("string"==typeof b)delete d[b];else if(c.isArray(b))for(var e=0,f=b.length;f>e;e++)delete d[b[e]];else for(var g in b)delete d[g];return d},replaceValues:function(a,b,c){for(var d in a){var e=a[d];switch(typeof e){case"string":case"number":case"boolean":for(var f in b)if(d==f){a[d]=b[f];break}break;case"object":!c&&arguments.callee(e,b)}}return a},toArray:function(a,b,d){var e=arguments.callee;if(!b)return c.getValues(a,d);if(b instanceof o){for(var f=b,g=[],h=0,i=f.length;i>h;h++){var j=a[f[h]];g.push(j)}return g}if(b===!0){var g=[];for(var k in a){var j=a[k];d===!0&&j&&"object"==typeof j&&(j=e(j,b,d)),g.push([k,j])}return g}if("function"==typeof b){var l=b,g=[];for(var k in a){var j=a[k];if(j=d===!0&&j&&"object"==typeof j?e(j,b,d):l(k,j),null!==j){if(j===y)break;g.push(j)}}return g}},toJson:function(b){if(a.JSON){var d=function(b){return a.JSON.stringify(b)};return c.toJson=d,d(b)}if(null==b)return x(b);switch(typeof b){case"string":return'"'+b+'"';case"number":case"boolean":return b;case"function":return b.toString()}if(b instanceof x||b instanceof u||b instanceof p||b instanceof q)return arguments.callee(b.valueOf());if(b instanceof w)return arguments.callee(b.toString());if(c.isArray(b)){for(var e=[],f=0,g=b.length;g>f;f++)e.push(arguments.callee(b[f]));return"["+e.join(", ")+"]"}var h=[];for(var i in b)h.push('"'+i+'": '+arguments.callee(b[i]));return"{ "+h.join(", ")+" }"},toQueryString:function(a,b){if(null==a)return x(a);switch(typeof a){case"string":case"number":case"boolean":return a}if(a instanceof x||a instanceof u||a instanceof p||a instanceof q)return a.valueOf();if(c.isArray(a))return"["+a.join(", ")+"]";var d=arguments.callee,e=b?escape:encodeURIComponent,f=[];for(var g in a)f.push(e(g)+"="+e(d(a[g])));return f.join("&")},trim:function(a,d,e){if(!d&&!e){var f={};for(var g in a){var h=a[g];null!=h&&(f[g]=h)}return f}var i=arguments.callee,j=b.Array.contains,k=c.extend;"boolean"==typeof d&&(e=d,d=y),d||(d=[null,y]);var f=k({},a);for(var g in f){var h=f[g];j(d,h)?delete f[g]:e===!0&&"object"==typeof h&&h&&(h=k({},h),f[g]=i(h,d,!0))}return f},create:function(a){var b="function"==typeof v.create?v.create:function(a){function b(){}return b.prototype=a,b.prototype.constructor=b,new b};return c.create=b,b(a)},filter:function(a,d){var e={};if(c.isArray(d))b.Array.each(d,function(b){b in a&&(e[b]=a[b])});else if(c.isPlain(d))c.each(d,function(b){b in a&&(e[b]=a[b])});else{if("string"!=typeof d)throw new r("无法识别参数 samples 的类型");var f=d;f in a&&(e[f]=a[f])}return e},filterTo:function(a,b,d){var e=c.filter(b,d);return c.extend(a,e)},grep:function(a,b){var c={};for(var d in a){var e=a[d];b(d,e)===!0&&(c[d]=e)}return c},find:function(a,b,d){var e=!1;return c.each(a,function(a,c){return b(a,c)===!0?(e=!0,!1):void 0},d),e},findItem:function(a,b,d){var e=[];return c.each(a,function(a,c){return b(a,c)===!0?(e=[a,c],!1):void 0},d),e},findKey:function(a,b,d){var e=c.findItem(a,b,d);return e[0]},findValue:function(a,b,d){var e=c.findItem(a,b,d);return e[1]},get:function(a,b,c){return a&&b in a?a[b]:c},set:function(a,b,c){return a[b]=c,a},make:function(a,b){var d=C,e={};return c.isArray(a)?d.Array(arguments).each(function(a){e[a[0]]=a[1]}):e[a]=b,e},getKeys:function(a,b){var c=arguments.callee,d=[];for(var e in a){var f=a[e];b===!0&&"object"==typeof f&&null!==f&&(e=c(f,b)),d.push(e)}return d},getValues:function(a,b){var c=arguments.callee,d=[];for(var e in a){var f=a[e];b===!0&&"object"==typeof f&&null!==f&&(f=c(f,b)),d.push(f)}return d},getItems:function(a,b){return c.toArray(a,!0,b)},join:function(a,b,c){b=b||"=",c=c||"&";var d=[];for(var e in a)d.push(e+b+a[e]);return d.join(c)},overwrite:function(a,b){for(var d in a)delete a[d];return c.extend(a,b)}})}(C,C.Object),function(a){var b=o.prototype.slice;a.prototype={constructor:a,value:{},init:function(a){this.value=v(a)},valueOf:function(){return this.value},clone:function(){return a.clone(this.value)},each:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),a.each.apply(null,c),this},extend:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),this.value=a.extend.apply(null,c),this},extendSafely:function(){var c=[this.value].concat(b.call(arguments,0));return this.value=a.extendSafely.apply(null,c),this},getType:function(){return a.getType(this.value)},isArray:function(b){return a.isArray(this.value,b)},isBuiltinType:function(){return a.isBuiltinType(this.value)},isEmpty:function(){return a.isEmpty(this.value)},isPlain:function(){return a.isPlain(this.value)},isValueType:function(){return a.isValueType(this.value)},isWindow:function(){return a.isWindow(this.value)},isWrappedType:function(){return a.isWrappedType(this.value)},map:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),this.value=a.map.apply(null,c),this},namespace:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),this.value=a.namespace.apply(null,c),this},parseJson:function(b){return this.value=a.parseJson(b),this},parseQueryString:function(){var c=b.call(arguments,0);return this.value=a.parseQueryString.apply(null,c),this},remove:function(b){return this.value=a.remove(this.value,b),this},replaceValues:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),this.value=a.replaceValues.apply(null,c),this},toArray:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),a.toArray.apply(null,c)},toJson:function(){return a.toJson(this.value)},toQueryString:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),a.toQueryString.apply(null,c)},join:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),a.join.apply(null,c)},trim:function(){var c=b.call(arguments,0);return c=[this.value].concat(c),this.value=a.trim.apply(null,c),this},filter:function(b){return this.value=a.filter(this.value,b),this},filterTo:function(b,c){return this.value=a.filterTo(this.value,b,c),this},grep:function(b){return this.value=a.grep(this.value,b),this},find:function(b,c){return a.find(this.value,b,c)},findItem:function(b,c){return a.findItem(this.value,b,c)},findKey:function(b,c){return a.findKey(this.value,b,c)},findValue:function(b,c){return a.findValue(this.value,b,c)},get:function(b,c){return a.get(this.value,b,c)},set:function(b,c){return a.set(this.value,b,c),this},make:function(b,c){return this.value=a.make(b,c),this},getKeys:function(b){return a.getKeys(this.value,b)},getValues:function(b){return a.getValues(this.value,b)},getItems:function(b){return a.getItems(this.value,b)}},a.prototype.init.prototype=a.prototype}(C.Object),C.Array=function(a){return new C.Array.prototype.init(a)},function(a,b){a.extend(b,{each:function(a,b,c){for(var d=arguments.callee,e=0,f=a.length;f>e;e++){var g=a[e];if(c&&g instanceof o)d(g,b,!0);else{var h=b(g,e);if(h===!1)break}}return a},parse:function(a,b){if(a instanceof o)return a;var c=[];if(b===!0){for(var d in a)"length"!==d&&c.push(a[d]);return c}if(!a||!a.length)return[];try{c=o.prototype.slice.call(a,0)}catch(e){for(var f=0,g=a.length;g>f;f++)c.push(a[f])}return c},toObject:function(b,c){if(!b||!a.Object.isArray(b))return null;var d={};if(c===y){var e=b.length;d.length=e;for(var f=0;e>f;f++)d[f]=b[f];return d}if(a.Object.isArray(c)){for(var g=0,e=c.length,f=0;e>f;f++){var h=c[f];h in d||(d[h]=b[f],g++)}return d.length=g,d}if(a.Object.isPlain(c)){var e=0;for(var h in c)d[h]=b[c[h]],e++;return d.length=e,d}if("function"==typeof c){for(var e=b.length,f=0;e>f;f++){var i=c(b[f],f);if(i instanceof o){var h=i[0],j=i[1];d[h]=j}else{if(!a.Object.isPlain(i))throw new r("处理函数 maps 返回结果的格式不可识别");for(var h in i){d[h]=i[h];break}}}return d.length=e,d}return d},map:function(a,b,c){for(var d,e=arguments.callee,f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(c&&i instanceof o)d=e(i,b,!0);else{if(d=b(i,g),null===d)continue;if(d===y)break}f.push(d)}return f},keep:function(a,b,c){for(var d,e=arguments.callee,f=[],g=0,h=a.length;h>g;g++){var i=a[g];d=c&&i instanceof o?e(i,b,!0):b(i,g),f.push(d)}return f},grep:function(a,b,c){for(var d=arguments.callee,e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(c&&h instanceof o)h=d(h,b,!0),e.push(h);else{var i=b(h,f);i===!0&&e.push(h)}}return e},indexOf:function(a,b){if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},contains:function(a,c){return b.indexOf(a,c)>-1},remove:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];f!==b&&c.push(f)}return c},removeAt:function(a,b){var c=a.slice(0);return c.splice(b,1),c},reverse:function(a){for(var b=[],c=a.length-1;c>=0;c--)b.push(a[c]);return b},merge:function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=arguments[b];d!==y&&(a=a.concat(d))}return a},mergeUnique:function(){for(var a=[],c=arguments.length,d=b.contains,e=0;c>e;e++)for(var f=arguments[e],g=f.length,h=0;g>h;h++)d(a,f[h])||a.push(f[h]);return a},unique:function(a){return b.mergeUnique(a)},toggle:function(a,c){if(b.contains(a,c))return b.remove(a,c);var d=a.slice(0);return d.push(c),d},find:function(a,c,d){return b.findIndex(a,c,d)>-1},findIndex:function(a,b,c){c=c||0;for(var d=c,e=a.length;e>d;d++)if(b(a[d],d)===!0)return d;return-1},findItem:function(a,b,c){c=c||0;for(var d=c,e=a.length;e>d;d++){var f=a[d];if(b(f,d)===!0)return f}return null},random:function(a){for(var b=a.slice(0),c=0,d=b.length;d>c;c++){var e=parseInt(t.random()*c),f=b[c];b[c]=b[e],b[e]=f}return b},randomItem:function(b){var c=b.length;if(1>c)return y;var d=a.Math.randomInt(0,c-1);return b[d]},get:function(a,b){var c=a.length;if(b>=0&&c>b)return a[b];var d=b+c;return 0>b&&d>=0?a[d]:null==b?a.slice(0):void 0},trim:function(a){return b.map(a,function(a){return null==a?null:a})},group:function(a,c,d){var e=b.slide(a,c,c);return d===!0&&(e[e.length-1]=a.slice(-c)),e},slide:function(a,b,c){if(b>=a.length)return[a];c=c||1;for(var d=[],e=0,f=a.length;f>e;e+=c){var g=e+b;if(d.push(a.slice(e,g)),g>=f)break}return d},circleSlice:function(a,b,c){var d=a.slice(b,b+c),e=[],f=c-d.length;return f>0&&(e=a.slice(0,f)),d.concat(e)},circleSlide:function(a,c,d){if(a.length<c)return[a];d=d||1;for(var e=[],f=b.circleSlice,g=0,h=a.length;h>g;g+=d)e.push(f(a,g,c));return e},sum:function(a,b,c){for(var d=0,e=!(c===y),f=0,g=a.length;g>f;f++){var h=e?a[f][c]:a[f];if(isNaN(h)){if(b===!0)continue;throw new r("第 "+f+" 个元素的值为 NaN")}d+=u(h)}return d},max:function(a,b,c){for(var d=0,e=!(c===y),f=0,g=a.length;g>f;f++){var h=e?a[f][c]:a[f];if(isNaN(h)){if(b===!0)continue;throw new r("第 "+f+" 个元素的值为 NaN")}h=u(h),h>d&&(d=h)}return d},hasItem:function(b){return a.Object.isArray(b)&&b.length>0},reduceDimension:function(a,b){b=b||1;for(var c=a,d=o.prototype.concat,e=0;b>e;e++)c=d.apply([],c);return c},descartes:function(a,b){function c(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)for(var g=0,h=b.length;h>g;g++){var i=[];c?(i=i.concat(a[e]),i.push(b[g])):(i[0]=a[e],i[1]=b[g]),d.push(i)}return d}for(var d=c(a,b),e=2,f=arguments.length;f>e;e++)d=c(d,arguments[e],!0);return d},divideDescartes:function(a,b){for(var c=a.length,d=[],e=0,f=b.length;f>e;e++){for(var g=b[e],h=c/g,i=[],j=0;g>j;j++)i.push(a[j*h][e]);c=h,d[e]=i}return d},transpose:function(a){for(var b=a,c=[],d=b.length,e=1,f=0;e>f;f++){for(var g=[],h=0;d>h;h++)b[h].length>e&&(e=b[h].length),g.push(b[h][f]);c[f]=g}return c},intersection:function(a){function c(a,c){for(var d=[],e=0,f=a.length;f>e;e++)for(var g=a[e],h=0,i=c.length;i>h;h++)if(g===c[h]){d.push(g);break}return b.unique(d)}for(var d=a,e=1,f=arguments.length;f>e;e++)d=c(d,arguments[e]);return d},equals:function(a,b,c){if(!(a instanceof o&&b instanceof o&&a.length==b.length))return!1;c=c||function(a,b){return a===b};for(var d=0,e=a.length;e>d;d++)if(!c(a[d],b[d]))return!1;return!0},isContained:function(a,c){return b.intersection(a,c).length==a.length},padLeft:function(a,b,c){var d=b-a.length;if(0>=d)return a.slice(-d);for(var e=[],f=0;d>f;f++)e.push(c);return e=e.concat(a)},padRight:function(a,b,c){var d=b-a.length;if(0>=d)return a.slice(0,b);for(var e=a.slice(0),f=0;d>f;f++)e.push(c);return e},pad:function(a,b,c){if(a==b)return[];c=t.abs(c||1);var d=[];if(b>a)for(var e=a;b>e;e+=c)d.push(e);else for(var e=a;e>b;e-=c)d.push(e);return d},aggregate:function(a,b,c){for(var d="string"==typeof b,e="function"==typeof c,f={},g=0,h=a.length;h>g;g++){var i=a[g],j=d?i[b]:b(i,g);f[j]||(f[j]=[]);var k=i;if(e){if(k=c(i,g),null===k)continue;if(k===y)break}f[j].push(k)}return f},add:function(a,b){var c=a.slice(0);return c.push(b),c},count:function(a,c){if(arguments.length<2)return a.length;if("function"!=typeof c){var d=c;c=function(a){return a===d}}var e=b.grep(a,c);return e.length}})}(C,C.Array),function(a){a.prototype={constructor:a,value:[],init:function(b){this.value=a.parse(b)},toString:function(a){return a=a===y?"":a,this.value.join(a)},valueOf:function(){return this.value},each:function(){var b=z.concat([this.value],arguments);return a.each.apply(null,b),this},toObject:function(){var b=z.concat([this.value],arguments);return a.toObject.apply(null,b)},map:function(){var b=z.concat([this.value],arguments);return a.map.apply(null,b),this},keep:function(){var b=z.concat([this.value],arguments);return this.value=a.keep.apply(null,b),this},grep:function(){var b=z.concat([this.value],arguments);return this.value=a.grep.apply(null,b),this},indexOf:function(b){z.concat([this.value],arguments);return a.indexOf(this.value,b)},contains:function(b){return a.contains(this.value,b)},remove:function(b){return this.value=a.remove(this.value,b),this},removeAt:function(b){return this.value=a.removeAt(this.value,b),this},reverse:function(){return this.value=a.reverse(this.value),this},merge:function(){var b=z.concat([this.value],arguments);return this.value=a.merge.apply(null,b),this},mergeUnique:function(){var b=z.concat([this.value],arguments);return this.value=a.mergeUnique.apply(null,b),this},unique:function(){return this.value=a.unique(this.value),this},toggle:function(){var b=z.concat([this.value],arguments);return this.value=a.toggle.apply(null,b),this},find:function(){var b=z.concat([this.value],arguments);return a.find.apply(null,b)},findIndex:function(){var b=z.concat([this.value],arguments);return a.findIndex.apply(null,b)},findItem:function(){var b=z.concat([this.value],arguments);return a.findItem.apply(null,b)},random:function(){return this.value=a.random(this.value),this},randomItem:function(){return a.randomItem(this.value)},get:function(){var b=z.concat([this.value],arguments);return a.get.apply(null,b)},trim:function(){return this.value=a.trim(this.value),this},group:function(){var b=z.concat([this.value],arguments);return this.value=a.group.apply(null,b),this},slide:function(){var b=z.concat([this.value],arguments);return this.value=a.slide.apply(null,b),this},circleSlice:function(){var b=z.concat([this.value],arguments);return this.value=a.circleSlice.apply(null,b),this},circleSlide:function(){var b=z.concat([this.value],arguments);return this.value=a.circleSlide.apply(null,b),this},sum:function(){var b=z.concat([this.value],arguments);return a.sum.apply(null,b)},max:function(){var b=z.concat([this.value],arguments);return a.max.apply(null,b)},hasItem:function(){return a.hasItem(this.value)},reduceDimension:function(){var b=z.concat([this.value],arguments);return this.value=a.reduceDimension.apply(null,b),this},descartes:function(){var b=z.concat([this.value],arguments);return this.value=a.descartes.apply(null,b),this},divideDescartes:function(){var b=z.concat([this.value],arguments);return this.value=a.divideDescartes.apply(null,b),this},transpose:function(){return this.value=a.transpose(this.value),this},intersection:function(){var b=z.concat([this.value],arguments);return this.value=a.intersection.apply(null,b),this},equals:function(){var b=z.concat([this.value],arguments);return a.equals.apply(null,b)},isContained:function(){var b=z.concat([this.value],arguments);return a.isContained.apply(null,b)},padLeft:function(){var b=z.concat([this.value],arguments);return this.value=a.padLeft.apply(null,b),this},padRight:function(){var b=z.concat([this.value],arguments);return this.value=a.padRight.apply(null,b),this},pad:function(){var b=z.toArray(arguments);return this.value=a.pad.apply(null,b),this}},a.prototype.init.prototype=a.prototype}(C.Array),C.String=function(a){if(arguments.length>1){var b=o.prototype.slice.call(arguments,1);return C.String.format(a,b)}return new C.String.prototype.init(a)},function(a,b){a.extend(b,{format:function(a,c){var d=a;if("object"==typeof c)for(var e in c)d=b.replaceAll(d,"{"+e+"}",c[e]);else for(var f=o.prototype.slice.call(arguments,1),g=0,h=f.length;h>g;g++)d=b.replaceAll(d,"{"+g+"}",f[g]);return d},replaceAll:function(a,b,c){return a.split(b).join(c)},replaceBetween:function(a,b,c,d){var e=a.indexOf(b);if(0>e)return a;var f=a.indexOf(c);if(0>f)return a;var g=a.slice(0,e),h=a.slice(f+c.length);return g+d+h},removeAll:function(c,d){var e=b.replaceAll;return a.Object.isArray(d)?(a.Array.each(d,function(a){c=e(c,a,"")}),c):e(c,d,"")},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},trimStart:function(a){return a.replace(/(^\s*)/g,"")},trimEnd:function(a){return a.replace(/(\s*$)/g,"")},padLeft:function(a,b,c){a=x(a);var d=a.length;if(d>=b)return a.substr(-b);c=c||" ";var e=[];return e.length=b-d+1,e.join(c)+a},padRight:function(a,b,c){a=x(a);var d=a.length;if(d>=b)return a.substring(0,b);c=c||" ";var e=[];return e.length=b-d+1,a+e.join(c)},between:function(a,b,c){var d=a.indexOf(b);if(0>d)return"";d+=b.length;var e=a.indexOf(c,d);return 0>e?"":a.substr(d,e-d)},random:function(a){if(a===y&&(a=12),"number"==typeof a){var b=a+1;0>b&&(b=0),a=[],a.length=b,a=a.join("x")}return a.replace(/x/g,function(){var a=16*t.random()|0;return a.toString(16)}).toUpperCase()}}),a.extend(b,{startsWith:function(a,b,c){if(c){var d=a.substring(0,b.length);return d.toUpperCase()===b.toString().toUpperCase()}return 0==a.indexOf(b)},endsWith:function(a,b,c){var d=a.length,e=b.length,f=d-e;if(c){var g=a.substring(f,d);return g.toUpperCase()===b.toString().toUpperCase()}return a.lastIndexOf(b)==f},contains:function(b,c,d){if(b=x(b),a.Object.isArray(c)){var e;return d===!0?(e=!1,a.Array.each(c,function(a){return e=b.indexOf(a)>-1,e?!1:void 0})):(e=!0,a.Array.each(c,function(a){return e=b.indexOf(a)>-1,e?void 0:!1})),e}return b.indexOf(c)>-1}}),a.extend(b,{toCamelCase:function(a){var b=/^-ms-/,c=/-([a-z]|[0-9])/gi;return a.replace(b,"ms-").replace(c,function(a,b){return b.toString().toUpperCase()})},toHyphenate:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},toUtf8:function(b){var c=[];return a.Array.each(b.split(""),function(a){var b=a.charCodeAt(0);128>b?c.push(b):2048>b?(c.push((1984&b)>>6|192),c.push(63&b|128)):(c.push((61440&b)>>12|224),c.push((4032&b)>>6|128),c.push(63&b|128))}),"%"+a.Array.map(c,function(a){return a.toString(16)}).join("%")},toValue:function(a){if("string"!=typeof a)return a;var b={"true":!0,"false":!1,"null":null,undefined:y,NaN:0/0};return a in b?b[a]:a}}),a.extend(b,{split:function(b,c){function d(b,c,e){return e--,a.Array.map(b,function(a){return 0==e?x(a).split(c):d(a,c,e)})}for(var e=x(b).split(c[0]),f=1,g=c.length;g>f;f++)e=d(e,c[f],f);return e},slide:function(b,c,d){var e=x(b).split("");return a.Array(e).slide(c,d).map(function(a){return a.join("")}).valueOf()},segment:function(a,c){return b.slide(a,c,c)}}),a.extend(b,{getTemplates:function(c,d){var e=d[0];e instanceof o&&(d=a.Array.keep(d,function(a){var b={name:a[0],begin:a[1],end:a[2]};return a.length>3&&(b.outer=a[3]),b}),e=d[0]);var f=b.between,g=b.replaceBetween,h={},i=f(c,e.begin,e.end);return a.Array.each(d.slice(1).reverse(),function(a,b){var c=a.name||b,d=a.begin,e=a.end;h[c]=f(i,d,e),"outer"in a&&(i=g(i,d,e,a.outer))}),h[e.name]=i,h},getByteLength:function(a){return a?a.toString().replace(/[\u0100-\uffff]/g,"  ").length:0}}),a.extend(b,{escapeHtml:function(a){a=x(a);var b=/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g;return a=a.replace(b,function(a){return"&#"+a.charCodeAt(0)+";"}),a=a.replace(/ /g,"&nbsp;"),a=a.replace(/\r\n/g,"<br />"),a=a.replace(/\n/g,"<br />"),a=a.replace(/\r/g,"<br />")},escapeElementAttribute:function(a){a=x(a);var b=/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g;return a.replace(b,function(a){return"&#"+a.charCodeAt(0)+";"})},escapeScript:function(a){a=x(a);var b=/[\\"']/g;return a=a.replace(b,function(a){return"\\"+a}),a=a.replace(/%/g,"\\x25"),a=a.replace(/\n/g,"\\n"),a=a.replace(/\r/g,"\\r"),a=a.replace(/\x01/g,"\\x01")},escapeQueryString:function(a){return a=x(a),escape(a).replace(/\+/g,"%2B")},escapeHrefScript:function(a){return a=b.escapeScript(a),a=a.replace(/%/g,"%25"),a=b.escapeElementAttribute(a)},escapeRegExp:function(a){a=x(a);var b=/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g;return a.replace(b,function(a){return"\\"+a})}})}(C,C.String),function(a){o.prototype.slice;a.prototype={constructor:a,value:"",init:function(a){this.value=x(a)},toString:function(){return this.value},valueOf:function(){return this.value},format:function(){var b=z.concat([this.value],arguments);return this.value=a.format.apply(null,b),this},replaceAll:function(){var b=z.concat([this.value],arguments);return this.value=a.replaceAll.apply(null,b),this},replaceBetween:function(){var b=z.concat([this.value],arguments);return this.value=a.replaceBetween.apply(null,b),this},removeAll:function(b){return this.value=a.replaceAll(this.value,b,""),this},random:function(b){return this.value=a.random(b),this},trim:function(){return this.value=a.trim(this.value),this},trimStart:function(){return this.value=a.trimStart(this.value),this},trimEnd:function(){return this.value=a.trimEnd(this.value),this},split:function(b){return a.split(this.value,b)},startsWith:function(b,c){return a.startsWith(this.value,b,c)},endsWith:function(b,c){return a.endsWith(this.value,b,c)},contains:function(b,c){return a.contains(this.value,b,c)},padLeft:function(b,c){return this.value=a.padLeft(this.value,b,c),this},padRight:function(b,c){return this.value=a.padRight(this.value,b,c),this},toCamelCase:function(){return this.value=a.toCamelCase(this.value),this},toHyphenate:function(){return this.value=a.toHyphenate(this.value),this},between:function(b,c){return this.value=a.between(this.value,b,c),this},toUtf8:function(){return this.value=a.toUtf8(this.value),this},toValue:function(){return a.toValue(this.value)},slide:function(b,c){return a.slide(this.value,b,c)},segment:function(b){return a.segment(this.value,b,b)}},a.prototype.init.prototype=a.prototype}(C.String),C.Boolean=function(a){return new C.Boolean.prototype.init(a)},function(a,b){a.extend(b,{parse:function(a){if(!a)return!1;if("string"==typeof a||a instanceof x){var b=/^(false|null|undefined|0|NaN)$/g;return!b.test(a)}return!0},toInt:function(a){return b.parse(a)?1:0},reverse:function(a){return!b.parse(a)},random:function(){return!!t.floor(2*t.random())}})}(C,C.Boolean),function(a){a.prototype={constructor:a,value:!1,init:function(b){this.value=a.parse(b)},valueOf:function(){return this.value},toString:function(){return this.value.toString()},toInt:function(){return this.value?1:0},reverse:function(){return this.value=!this.value,this},random:function(){this.value=a.random()}},a.prototype.init.prototype=a.prototype}(C.Boolean),C.Date=function(a){return new C.Date.prototype.init(a)},function(a,b){a.extend(b,{now:function(){return new q},parse:function(a){function b(a){var b=(new q,a.indexOf(".")>0?".":a.indexOf("-")>0?"-":a.indexOf("/")>0?"/":a.indexOf("_")>0?"_":null);if(!b)return null;var c=a.split(b);return{yyyy:c[0],MM:c[1]||0,dd:c[2]||1}}function c(a){var b=a.indexOf(":")>0?":":null;if(!b)return null;var c=a.split(b);return{HH:c[0]||0,mm:c[1]||0,ss:c[2]||0}}if(a instanceof q)return isNaN(a.getTime())?null:a;if("string"!=typeof a)return null;var d=new q(a);if(!isNaN(d.getTime()))return d;var e=a.split(" ");if(!e[0])return null;var d=e[0].indexOf(":")>0?null:e[0],f=e[0].indexOf(":")>0?e[0]:e[1]||null;if(d||f){if(d&&f){var g=b(d),h=c(f);return new q(g.yyyy,g.MM-1,g.dd,h.HH,h.mm,h.ss)}if(d){var g=b(d);return new q(g.yyyy,g.MM-1,g.dd)}if(f){var i=new q,h=c(f);return new q(i.getFullYear(),i.getMonth(),i.getDate(),h.HH,h.mm,h.ss)}}return null},format:function(b,c){for(var d=b.getFullYear(),e=b.getMonth()+1,f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=b.getSeconds(),j=function(b,c){return a.String.padLeft(b,c,"0")},k=12>=g,l=[["yyyy",j(d,4)],["yy",x(d).slice(2)],["MM",j(e,2)],["M",e],["dddd","星期"+"日一二三四五六".charAt(b.getDay())],["dd",j(f,2)],["d",f],["HH",j(g,2)],["H",g],["hh",j(k?g:g-12,2)],["h",k?g:g-12],["mm",j(h,2)],["m",h],["ss",j(i,2)],["s",i],["tt",k?"AM":"PM"],["t",k?"A":"P"],["TT",k?"上午":"下午"],["T",k?"上":"下"]],m=c,n=a.String.replaceAll,o=0,p=l.length;p>o;o++){var q=l[o];m=n(m,q[0],q[1])}return m},addYears:function(a,c){return c=12*c,b.addMonths(a,c)},addMonths:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setMonth(a.getMonth()+b),c},addWeeks:function(a,c){return c=7*c,b.addDays(a,c)},addDays:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setDate(a.getDate()+b),c},addHours:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setHours(a.getHours()+b),c},addMinutes:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setMinutes(a.getMinutes()+b),c},addSeconds:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setSeconds(a.getSeconds()+b),c},addMilliseconds:function(a,b){a instanceof q||(b=a,a=new q);var c=new q(a);return c.setMilliseconds(a.getMilliseconds()+b),c}})}(C,C.Date),function(a){a.prototype={constructor:a,value:new q,init:function(b){this.value=b===y?new q:a.parse(b)},valueOf:function(){return this.value},toString:function(b){return a.format(this.value,b)},format:function(b){return a.format(this.value,b)},addYears:function(b){return this.value=a.addYears(this.value,b),this},addMonths:function(b){return this.value=a.addMonths(this.value,b),this},addDays:function(b){return this.value=a.addDays(this.value,b),this},addHours:function(b){return this.value=a.addHours(this.value,b),this},addMinutes:function(b){return this.value=a.addMinutes(this.value,b),this},addSeconds:function(b){return this.value=a.addSeconds(this.value,b),this},addMilliseconds:function(b){return this.value=a.addMilliseconds(this.value,b),this}},a.prototype.init.prototype=a.prototype}(C.Date),C.Math=function(a,b){return a.extend(b,{randomInt:function(a,b){if(a===y&&b===y)return u(x(t.random()).replace(".","").replace(/^0*/g,""));b===y&&(b=a,a=0);var c=b-a+1;return t.floor(t.random()*c+a)},slide:function(a,b,c){return c=c||1,a+=c,a>=0?a%b:(b-t.abs(a)%b)%b},next:function(a,c){return b.slide(a,c,1)},previous:function(a,c){return b.slide(a,c,-1)},parseInt:function(a){return parseInt(a,10)},parsePercent:function(b){return"string"==typeof b&&a.String(b).trim().endsWith("%")?parseInt(b)/100:b}})}(C,{}),C.Url=function(a,b){return a.extend(b,{getQueryString:function(b,c,d){var e=b.indexOf("?");if(!(0>e)){var f=b.indexOf("#");0>f&&(f=b.length);var g=b.slice(e+1,f);if(""===c)return decodeURIComponent(g);var h=a.Object.parseQueryString(g);if(c===y)return h;if(!d||c in h)return h[c];c=c.toString().toLowerCase();for(var i in h)if(i.toLowerCase()==c)return h[i]}},addQueryString:function(c,d,e){var f=b.getQueryString(c)||{};"object"==typeof d?a.Object.extend(f,d):f[d]=e;var g={};for(var d in f){var e=f[d];null!==e&&(g[d]=e)}return b.setQueryString(c,g)},randomQueryString:function(c,d){var e=a.String.random(d);return b.addQueryString(c,e,"")},setQueryString:function(b,c,d){var e=typeof c,f=/^(string|number|boolean)$/.test(e),g="";
if(2==arguments.length&&f)g=encodeURIComponent(c);else{var h="object"==e?c:a.Object.make(c,d);g=a.Object.toQueryString(h)}var i,j=b.indexOf("?")>-1,k=b.indexOf("#")>-1;return j&&k?(i=b.split(/\?|#/g),i[0]+"?"+g+"#"+i[2]):j?(i=b.split("?"),i[0]+"?"+g):k?(i=b.split("#"),i[0]+"?"+g+"#"+i[1]):b+"?"+g},hasQueryString:function(c,d,e){var f=b.getQueryString(c);if(!f)return!1;if(!d)return!a.Object.isEmpty(f);if(d in f)return!0;if(e){d=d.toString().toLowerCase();for(var g in f)if(g.toLowerCase()==d)return!0}return!1},getHash:function(b,c,d){var e=b.indexOf("#");if(!(0>e)){var f=b.length,g=b.slice(e+1,f);if(g=unescape(g),""===c)return g;var h=a.Object.parseQueryString(g);if(c===y)return h;if(!d||c in h)return h[c];c=c.toString().toLowerCase();for(var i in h)if(i.toLowerCase()==c)return h[i]}},setHash:function(b,c,d){var e=typeof c,f=/^(string|number|boolean)$/.test(e),g="";if(2==arguments.length&&f)g=x(c);else{var h="object"==e?c:a.Object.make(c,d);g=a.Object.toQueryString(h)}g=escape(g);var i=b.lastIndexOf("#");return i>-1&&(b=b.slice(0,i)),b+"#"+g},hasHash:function(c,d,e){var f=b.getHash(c);if(!f)return!1;if(!d)return!a.Object.isEmpty(f);if(d in f)return!0;if(e){d=d.toString().toLowerCase();for(var g in f)if(g.toLowerCase()==d)return!0}return!1}})}(C,{}),C.Mapper=function(a){function b(b,c){var f=a.String.random();this[d]=f,e[f]={guid:{},"false":{},string:{},number:{},"boolean":{},object:{},"function":{},undefined:{}},arguments.length>0&&this.set(b,c)}function c(b){if("function"==typeof b){var c=[];if("name"in b&&c.push(b.name),"length"in b&&c.push(b.length),c.length>0)return c.join("#")}return a.Object.getType(b)}var d="__guid__"+a.String.random(),e={};return a.extend(b,{getGuidKey:function(){return d}}),a.extend(b.prototype,{set:function(b,f){var g=e[this[d]];if(!b)return g["false"][x(b)]=f,f;var h=typeof b;if("object"==h&&d in b){var i=b[d];return void(g.guid[i]=f)}switch(h){case"string":case"number":case"boolean":g[h][x(b)]=f;break;case"object":case"function":var j=c(b),k=g[h][j];if(k){var l=a.Array.findItem(k,function(a){return a[0]===b});l?l[1]=f:k.push([b,f])}else k=[[b,f]];g[h][j]=k}return f},setBatch:function(b){var c=this;a.Array.each(b,function(a){c.set(a[0],a[1])})},get:function(b){var f=e[this[d]];if(!b)return f["false"][x(b)];var g=typeof b;if("object"==g&&d in b){var h=b[d];return f.guid[h]}switch(g){case"string":case"number":case"boolean":return f[g][x(b)];case"object":case"function":var i=c(b),j=f[g][i];if(j){var k=a.Array.findItem(j,function(a){return a[0]===b});if(k)return k[1]}}return y},remove:function(b){var f=e[this[d]];if(!b)return void delete f["false"][x(b)];var g=typeof b;if("object"==g&&d in b){var h=b[d];return void delete f.guid[h]}switch(g){case"string":case"number":case"boolean":delete f[g][x(b)];break;case"object":case"function":var i=c(b),j=f[g][i];j&&(f[g][i]=a.Array.grep(j,function(a){return a[0]!==b}))}},dispose:function(){e[this[d]]=null,delete this[d]}}),b}(C),C.Event=function(a){return new C.Event.prototype.init(a)},function(a,b,c){var d=new c,e=o.prototype.slice;a.extend(b,{bind:function(b,c,e,f){function g(a,b){if("function"!=typeof b)throw new r("参数 fn 必须为一个 function");var c=h[a]||[];c.push({fn:b,isOnce:f}),h[a]=c}var h=d.get(b);switch(h||(h={},d.set(b,h)),typeof c){case"string":g(c,e);break;case"object":if(!a.Object.isPlain(c))throw new r("当别参数 eventName 为 object 类型时，必须指定为纯对象 {}");f=e,a.Object.each(c,function(a,b){g(a,b)});break;default:throw new r("无法识别参数 eventName 的类型")}f=!!f},once:function(){var a=e.call(arguments,0).concat([!0]);b.bind.apply(null,a)},unbind:function(b,c,e){var f=d.get(b);if(f){if(c===y)return void d.remove(b);if("string"!=typeof c)throw new r("如果指定了参数 eventName，则其类型必须为 string");var g=f[c];if(g)return e?void(f[c]=a.Array.grep(g,function(a){return a.fn!==e})):void(f[c]=[])}},trigger:function(b,c,e){var f=[],g=d.get(b);if(!g)return f;var h=g[c];return h?(e=e||[],g[c]=a.Array.grep(h,function(a){var c=a.fn.apply(b,e);return f.push(c),!a.isOnce}),f):f},triggerStop:function(a,b,c,e){var f=[],g=d.get(a);if(!g)return f;var h=g[b];if(!h)return f;c=c||[],3==arguments.length&&(e=!1);for(var i=[],j=0,k=h.length;k>j;j++){var l=h[j],m=l.fn.apply(a,c);if(l.isOnce||i.push(l),f.push(m),m===e)break}return h=h.slice(j+1),g[b]=i.concat(h),f},has:function(b,c,e){var f=d.get(b);if(!f)return!1;if(c===y){if(a.Object.isEmpty(f))return!1;var g=!1;return a.Object.each(f,function(a,b){return b&&b.length>0?(g=!0,!1):void 0}),g}if("string"!=typeof c)throw new r("如果指定了参数 eventName，则其类型必须为 string");var h=f[c];return h&&0!=h.length?e===y?!0:a.Array.find(h,function(a){return a.fn===e}):!1},toggle:function(a,c,d,e){b.has(a,c,d)?b.unbind(a,c,d):b.bind(a,c,d,e)},unique:function(a,c,d,e){b.has(a,c,d)||b.bind(a,c,d,e)},create:function(){var c=a.Mapper.getGuidKey(),d={};return d[c]=a.String.random(),new b(d)}})}(C,C.Event,C.Mapper),function(a){var b=o.prototype.slice;a.prototype={constructor:a,value:{},init:function(a){this.value=a},valueOf:function(){return this.value},on:function(){var c=[this.value].concat(b.call(arguments,0));return a.bind.apply(null,c),this},off:function(){var c=[this.value].concat(b.call(arguments,0));return a.unbind.apply(null,c),this},bind:function(){var c=[this.value].concat(b.call(arguments,0));return a.bind.apply(null,c),this},unbind:function(){var c=[this.value].concat(b.call(arguments,0));return a.unbind.apply(null,c),this},once:function(){var c=[this.value].concat(b.call(arguments,0));return a.once.apply(null,c),this},trigger:function(c,d){var d=[this.value].concat(b.call(arguments,0));return a.trigger.apply(null,d)},triggerStop:function(c,d){var d=[this.value].concat(b.call(arguments,0));return a.triggerStop.apply(null,d)},fire:function(c,d){var d=[this.value].concat(b.call(arguments,0));return a.trigger.apply(null,d)},fireStop:function(c,d){var d=[this.value].concat(b.call(arguments,0));return a.triggerStop.apply(null,d)},has:function(){var c=[this.value].concat(b.call(arguments,0));return a.has.apply(null,c)},toggle:function(){var c=[this.value].concat(b.call(arguments,0));return a.toggle.apply(null,c),this},unique:function(){var c=[this.value].concat(b.call(arguments,0));return a.unique.apply(null,c)}},a.prototype.init.prototype=a.prototype}(C.Event),C.SessionStorage=function(a){function b(b,c){if(!(b in k&&k[b]===c)){k[b]=c;var d=n.stringify(k);a.setItem(j,d)}}function c(a){return k[a]}function d(b){delete k[b];var c=n.stringify(k);a.setItem(j,c)}function e(){k={};var b=n.stringify(k);a.setItem(j,b)}function f(a){for(var b in k)a(b,k[b])}function g(){if("function"==typeof v.keys)return v.keys(k);var a=[];for(var b in k)a.push(b);return a}function h(a){return g()[a]}function i(){return g().length}if(!a)return null;var j="__MiniQuery.SessionStorage__",k=a.getItem(j)||null;return k=n.parse(k)||{},{set:b,get:c,remove:d,clear:e,each:f,length:i,keys:g,key:h}}(i),C.LocalStorage=function(a){function b(b,c){if(!(b in k&&k[b]===c)){k[b]=c;var d=n.stringify(k);a.setItem(j,d)}}function c(a){return k[a]}function d(b){delete k[b];var c=n.stringify(k);a.setItem(j,c)}function e(){k={};var b=n.stringify(k);a.setItem(j,b)}function f(a){for(var b in k)a(b,k[b])}function g(){return h().length}function h(){if("function"==typeof v.keys)return v.keys(k);var a=[];for(var b in k)a.push(b);return a}function i(a){return h()[a]}if(!a)return null;var j="__MiniQuery.LocalStorage__",k=a.getItem(j)||null;return k=n.parse(k)||{},{set:b,get:c,remove:d,clear:e,each:f,length:g,keys:h,key:i}}(h),function(a,b,c,d){var e=a.extend({},b),f=new c,g="__hashchange__"+a.String.random();return a.extend(b,{getQueryString:function(b){var c="object"==typeof b?b.location.href:b,d=a.toArray(arguments);return d[0]=c,e.getQueryString.apply(null,d)},setQueryString:function(b){var c=a.toArray(arguments);if("string"==typeof b)return e.setQueryString.apply(null,c);var d=b.location,f=d.href;return c[0]=f,f=e.setQueryString.apply(null,c),d.href=f,f},hasQueryString:function(b){var c="object"==typeof b?b.location.href:b,d=a.toArray(arguments);return d[0]=c,e.hasQueryString.apply(null,d)},getHash:function(b){var c="object"==typeof b?b.location.href:b,d=a.toArray(arguments);return d[0]=c,e.getHash.apply(null,d)},setHash:function(b){var c=a.toArray(arguments);if("string"==typeof b)return c[0]=b,e.setHash.apply(null,c);var d=b.location,f=d.href;c[0]=f,f=e.setHash.apply(null,c);var g=e.getHash(f,"");return g=escape(g),d.hash=g,d.href},hasHash:function(b){var c="object"==typeof b?b.location.href:b,d=a.toArray(arguments);return d[0]=c,e.hasHash.apply(null,d)},hashchange:function(a,c,e){d.bind(a,g,c);var h=(a.location,b.getHash(a,""));h&&e&&c.call(a,h,null),f.get(a)||("onhashchange"in a?a.onhashchange=function(){var c=h;h=b.getHash(a,""),d.trigger(a,g,[h,c])}:m(function(){var c=h;h=b.getHash(a,""),h!=c&&d.trigger(a,g,[h,c])},200),f.set(a,!0))},route:function(c,d){a.Object.isPlain(d)||(d=a.Object.make(d,arguments[2])),b.hashchange(c,function(a,b){var e=d[a];e&&e.call(c,a,b)})}})}(C,C.Url,C.Mapper,C.Event),C.Cookie=function(a,b){var c={"true":{},"false":{}},d=function(){var b=/^\d+([y|M|w|d|h|m|s]|ms)$/,c={y:"Year",M:"Month",w:"Week",d:"Day",h:"Hour",m:"Minute",s:"Second",ms:"Millisecond"};return function(d){var e=new q;if("number"==typeof d)return a.Date.addMilliseconds(e,d);if(b.test(d)){var f=parseInt(d),g=d.replace(/^\d+/g,"");return a.Date["add"+c[g]+"s"](e,f)}return a.Date.parse(d)}}();return a.extend(b,{toObject:function(b,d){if("string"!=typeof b&&(d=b,b=e.cookie),!b)return{};d=!!d;var f=c[d][b];if(f)return f;f={};var g=a.Object.parseQueryString;return a.Array.each(b.split("; "),function(a){var b=a.indexOf("="),c=a.slice(0,b);c=decodeURIComponent(c);var e=a.slice(b+1);if(e=d&&e.indexOf("=")>-1?g(e):decodeURIComponent(e),c in f){var h=f[c];h instanceof o?h.push(e):f[c]=[h,e]}else f[c]=e}),c[d][b]=f,f},get:function(c,d){if(c===y)return b.toObject();if(c===!0)return b.toObject(!0);if(d===y){var e=b.toObject();return e[c]}var e=b.toObject(!0),f=e[c];if(d===!0)return f;if(f instanceof o){var g=a.Array.grep(f,function(a){return a&&"object"==typeof a&&d in a});if(0==g.length)return;return 1==g.length?g[0][d]:a.Array.keep(g,function(a){return a[d]})}return f&&"object"==typeof f?f[d]:void 0},set:function(b,c,f,g,h,i){if(a.Object.isPlain(b)){var j=b;b=j.name,c=j.value,f=j.expires,g=j.path,h=j.domain,i=j.secure}if(b=encodeURIComponent(b),!b)throw new r("参数 name 不能为空字符串");c=a.Object.isPlain(c)?a.Object.toQueryString(c):encodeURIComponent(c);var k=b+"="+c+"; ";f&&(f=d(f),k+="expires="+f.toGMTString()+"; "),g&&(k+="path="+g+"; "),h&&(k+="domain="+h+"; "),i&&(k+="secure"),e.cookie=k},remove:function(c,d,e,f){var g=a.Object.isPlain(c)?c:{name:c,path:d,domain:e,secure:f};if(g.expires=new q(0),c=g.name,c===y){var h=b.toObject();return void a.Object.each(h,function(a){g.name=a,b.set(g)})}b.set(g)}})}(C,{}),C.Script=function(a,b){function c(a,b,c,d){var e;if("object"==typeof a){var f=a;e=f.id,a=f.url,b=f.charset,c=f.document,d=f.onload}var g=c.createElement("script");g.type="text/javascript",e&&(g.id=e),b&&(g.charset=b),d&&(g.readyState?g.onreadystatechange=function(){var a=g.readyState;("loaded"==a||"complete"==a)&&(g.onreadystatechange=null,d())}:g.onload=d),g.src=a,c.head.appendChild(g)}function e(a,b,d,e){var f=0;!function(){var g=arguments.callee,h=a[f];c(h,b,d,function(){f++,f<a.length?g():e&&e()})}()}function f(b,c,d){var e=a.String.format('<script type="text/javascript" src="{src}" {charset} ></script>',{src:b,charset:c?a.String.format('charset="{0}"',c):""});d.write(e)}var g={url:"",id:"",charset:"utf-8",document:d.document,onload:null};return a.extend(b,{load:function(b){var d=a.Object.extend({},g);if(a.Object.isPlain(b))a.Object.extend(d,b);else{switch(d.url=b,typeof arguments[1]){case"string":d.charset=arguments[1];break;case"object":d.document=arguments[1];break;case"function":d.onload=arguments[1]}switch(typeof arguments[2]){case"object":d.document=arguments[2];break;case"function":d.onload=arguments[2]}arguments[3]&&(d.onload=arguments[3])}var f=d.url;if("string"==typeof f)c(d);else{if(!(f instanceof o))throw new r("参数 params.url 必须为 string 或 string 的数组");e(f,d.charset,d.document,d.onload)}},insert:function(b){var c={code:"",id:"",document:d.document};if(a.Object.isPlain(b))a.Object.extend(c,b);else{switch(c.code=b,typeof arguments[1]){case"string":c.id=arguments[1];break;case"object":c.document=arguments[1]}arguments[2]&&(c.document=arguments[2])}var e=c.document.createElement("script");e.type="text/javascript",c.id&&(e.id=c.id);try{e.appendChild(c.document.createTextNode(c.code))}catch(f){e.text=c.code}c.document.getElementsByTagName("head")[0].appendChild(e)},write:function(b){var c={url:"",charset:"",document:d.document};if(a.Object.isPlain(b))a.Object.extend(c,b);else{switch(c.url=b,typeof arguments[1]){case"string":c.charset=arguments[1];break;case"object":c.document=arguments[1]}arguments[2]&&(c.document=arguments[2])}if(a.Object.isArray(c.url))for(var e=c.url,g=0,h=e.length;h>g;g++)f(e[g],c.charset,c.document);else f(c.url,c.charset,c.document)}})}(C,{}),C.Url.Current=function(a,b){return{getQueryString:function(){var c=z.toArray(arguments);return c=[b].concat(c),a.getQueryString.apply(null,c)},setQueryString:function(){var c=z.toArray(arguments);return c=[b].concat(c),a.setQueryString.apply(null,c)},hasQueryString:function(){var c=z.toArray(arguments);return c=[b].concat(c),a.hasQueryString.apply(null,c)},hashchange:function(){var c=z.toArray(arguments);c=[b].concat(c),a.hashchange.apply(null,c)},route:function(){var c=z.toArray(arguments);c=[b].concat(c),a.route.apply(null,c)}}}(C.Url,d,d.location),C.use=function(b,c){if(!a[b]||c)return void(a[b]=C);var d=a[b];for(var e in C)/^(extend|toArray)$/.test(e)||e in d||(d[e]=C[e])},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports.MiniQuery=C):"function"==typeof define&&(define.amd||define.cmd)?define(function(){return C}):a.MiniQuery=C}(this,top,parent,window,document,location,navigator,window.localStorage,window.sessionStorage,window.console,history,setTimeout,setInterval,window.JSON,Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String);